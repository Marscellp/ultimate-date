(function(t){function e(e){for(var i,n,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},r={app:0},o=[];function n(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"27856b0c"}[t]+".js"}function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,i){a=r[t]=[e,i]}));e.push(a[2]=i);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=n(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(d);var a=r[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,a[1](l)}r[t]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2d43":function(t,e,a){"use strict";a("7107")},"2f60":function(t,e,a){"use strict";a("f990")},4360:function(t,e,a){"use strict";var i=a("2b0e"),r=a("2f62"),o=a("1da1"),n=(a("96cf"),a("bc3a")),s=a.n(n),c={namespaced:!0,state:{logged:!1,user:null,error:!1,errorMessage:"",token:window.localStorage.getItem("token")},mutations:{SET_LOGGED:function(t,e){t.logged=e},SET_USER:function(t,e){t.user=e},SET_ERROR:function(t,e){t.error=e},SET_ERRORMESSAGE:function(t,e){t.errorMessage=e},SET_TOKEN:function(t,e){t.token=e,window.localStorage.setItem("token",e)}},getters:{isLoggedIn:function(t){return t.token&&"null"!==t.token&&"undefined"!==t.token}},actions:{login:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,r,o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.dispatch,r=t.commit,a.prev=1,r("SET_LOADING",!0,{root:!0}),a.next=5,s.a.post("/api/login",e);case 5:return o=a.sent,n=o.data,r("SET_TOKEN",n),r("SET_ERROR",!1),a.next=11,i("me");case 11:a.next=18;break;case 13:a.prev=13,a.t0=a["catch"](1),r("SET_ERROR",!0),r("SET_LOGGED",!1),r("SET_TOKEN",null);case 18:return a.prev=18,r("SET_LOADING",!1,{root:!0}),a.finish(18);case 21:case"end":return a.stop()}}),a,null,[[1,13,18,21]])})))()},logout:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,a("SET_LOADING",!0,{root:!0}),e.next=4,s.a.post("/api/logout");case 4:a("SET_TOKEN",null),a("SET_USER",null),a("SET_LOGGED",!1),a("SET_ERROR",!1),a("SET_LOADING",!1,{root:!0});case 9:case"end":return e.stop()}}),e)})))()},me:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,s.a.get("/api/user");case 4:i=e.sent,r=i.data,a("SET_LOGGED",!0),a("SET_USER",r),e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](1),a("SET_ERROR",!1),a("SET_LOGGED",!1),a("SET_TOKEN",null);case 15:return e.prev=15,e.finish(15);case 17:case"end":return e.stop()}}),e,null,[[1,10,15,17]])})))()}}};i["a"].use(r["a"]);e["a"]=new r["a"].Store({state:{loading:!1,iconMenu:!1,drawerState:!1,nivel:"S/N",titulo:"VARIABLES E INDICADORES COMPARATIVOS HISTÓRICOS"},mutations:{SET_LOADING:function(t,e){t.loading=e},toggleDrawerState:function(t,e){t.drawerState=e},SET_TITULO:function(t,e){t.titulo=e}},actions:{},getters:{drawerState:function(t){return t.drawerState},getTitulo:function(t){return t.titulo}},modules:{auth:c}})},"48b0":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("loading",{attrs:{active:t.loading,"is-full-page":!0,color:"#0D47A1",loader:"dots"},on:{"update:active":function(e){t.loading=e}}}),a("MenuGiz"),a("v-main",{staticClass:"pa-0 mx-0 mt-0 mb-0"},[a("router-view")],1),a("v-footer",{staticClass:"py-0 my-0",attrs:{dark:"",padless:"",absolute:""}},[a("v-card",{staticClass:"text-center py-0 ma-0",attrs:{flat:"",tile:"",width:"100%",color:"primary"}},[a("v-card-text",{staticClass:"white--text caption ma-0 pa-3"},[t._v(" CopyRight - "+t._s((new Date).getFullYear())+" REALDATA "),a("br")])],1)],1)],1)},o=[],n=a("5530"),s=a("2f62"),c=a("4360"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto",attrs:{width:"256",tile:""}},[a("v-navigation-drawer",{attrs:{app:"",color:"white"},model:{value:t.drawerState,callback:function(e){t.drawerState=e},expression:"drawerState"}},[a("v-list-item",[a("v-list-item-content")],1),t.user?[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[t._v(" "+t._s(t.user.name)+" ")]),a("v-list-item-subtitle",[t._v(t._s(t.user.email))])],1)],1)]:t._e(),a("v-divider"),t.user?a("MenuPrivado",{attrs:{usuario:t.user}}):a("MenuPublico")],2),a("v-app-bar",{attrs:{app:"",dense:"",color:"white","py-2":""}},[a("v-app-bar-nav-icon",{on:{click:function(e){t.drawerState=!t.drawerState}}}),a("v-toolbar-title",{staticClass:"secondary--text title font-weight-bold flex text-center hidden-sm-and-down"},[t._v(" PLATAFORMA DE MONITOREO DE INDICADORES DE CONSUMO ENERGÉTICO "),a("br",{staticClass:"titulo"}),t._v(" EN INFRAESTRUCTURAS PÚBLICAS ")]),t.user?[a("v-spacer"),a("v-icon",{staticClass:"mr-2"},[t._v("mdi-account")]),a("div",{staticClass:"caption"},[t._v(t._s(t.user.email))])]:t._e()],2)],1)},d=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{attrs:{dense:"",nav:"",flat:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[t._l(t.items,(function(e){return a("v-list-item",{key:e.title,attrs:{to:e.to,link:""},on:{click:function(e){t.drawerState=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),a("v-divider"),a("v-list-item",{on:{click:function(e){return e.preventDefault(),t.cerrar(e)}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-export")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Cerrar sesión")])],1)],1)],2)],1)},p=[],m=a("1da1"),f=(a("96cf"),a("5319"),a("ac1f"),{name:"MenuPrivado",data:function(){return{selectedItem:1,items_adm:[{title:"Inicio",icon:"mdi-home",to:"/"},{title:"Información pública",icon:"mdi-view-dashboard",to:"/dashboard"},{title:"Histórico",icon:"mdi-chart-pie",to:"/historico"},{title:"Comparación de datos",icon:"mdi-chart-histogram",to:"/benchmark"},{title:"Indicadores",icon:"mdi-chart-timeline",to:"/indicadores"},{title:"Georeferenciación",icon:"mdi-map-marker",to:"/geografico"},{title:"Crear Entidad",icon:"mdi-office-building",to:"/crearinfraestructura"},{title:"Infraestructuras",icon:"mdi-domain",to:"/infraestructura"},{title:"Registrar Usuario",icon:"mdi-account",to:"/usuario"},{title:"Modificar Contraseña",icon:"mdi-key",to:"/modificar"}],items_ins:[{title:"Inicio",icon:"mdi-home",to:"/"},{title:"Información pública",icon:"mdi-view-dashboard",to:"/dashboard"},{title:"Histórico",icon:"mdi-chart-pie",to:"/historico"},{title:"Comparación de datos",icon:"mdi-chart-histogram",to:"/benchmark"},{title:"Indicadores",icon:"mdi-chart-timeline",to:"/indicadores"},{title:"Georeferenciación",icon:"mdi-map-marker",to:"/geografico"},{title:"Infraestructuras",icon:"mdi-domain",to:"/infraestructura"},{title:"Modificar Contraseña",icon:"mdi-key",to:"/modificar"}],items_ana:[{title:"Inicio",icon:"mdi-home",to:"/"},{title:"Información pública",icon:"mdi-view-dashboard",to:"/dashboard"},{title:"Histórico",icon:"mdi-chart-pie",to:"/historico"},{title:"Comparación de datos",icon:"mdi-chart-histogram",to:"/benchmark"},{title:"Indicadores",icon:"mdi-chart-timeline",to:"/indicadores"},{title:"Georeferenciación",icon:"mdi-map-marker",to:"/geografico"},{title:"Modificar Contraseña",icon:"mdi-key",to:"/modificar"}],items:[]}},computed:{drawerState:{get:function(){return this.$store.getters.drawerState},set:function(t){return this.$store.commit("toggleDrawerState",t)}}},mounted:function(){1==this.$store.state.auth.user.rol_id?this.items=this.items_adm:2==this.$store.state.auth.user.rol_id?this.items=this.items_ins:3==this.$store.state.auth.user.rol_id&&(this.items=this.items_ana)},methods:{cerrar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.drawerState=!1,e.next=3,t.$store.dispatch("auth/logout",null,{root:!0});case 3:return e.next=5,t.$router.replace({name:"Home"}).catch((function(){}));case 5:case"end":return e.stop()}}),e)})))()}}}),v=f,_=a("2877"),b=a("6544"),h=a.n(b),g=a("ce7e"),x=a("132d"),C=a("8860"),y=a("da13"),I=a("5d23"),w=a("1baa"),G=a("34c3"),E=Object(_["a"])(v,u,p,!1,null,null,null),S=E.exports;h()(E,{VDivider:g["a"],VIcon:x["a"],VList:C["a"],VListItem:y["a"],VListItemContent:I["a"],VListItemGroup:w["a"],VListItemIcon:G["a"],VListItemTitle:I["c"]});var O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{attrs:{dense:"",nav:"",flat:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[t._l(t.items,(function(e){return a("v-list-item",{key:e.title,attrs:{to:e.to,link:""},on:{click:function(e){t.drawerState=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),a("v-divider"),a("v-list-item",{attrs:{to:"/login",link:""},on:{click:function(e){t.drawerState=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Iniciar sesión")])],1)],1)],2)],1)},k=[],V={name:"MenuPublico",data:function(){return{selectedItem:1,items:[{title:"Inicio",icon:"mdi-home",to:"/"},{title:"Información pública",icon:"mdi-view-dashboard",to:"/dashboard"},{title:"Histórico",icon:"mdi-chart-pie",to:"/historico"},{title:"Georeferenciación",icon:"mdi-map-marker",to:"/geografico"}]}},computed:{drawerState:{get:function(){return this.$store.getters.drawerState},set:function(t){return this.$store.commit("toggleDrawerState",t)}}}},T=V,A=Object(_["a"])(T,O,k,!1,null,null,null),R=A.exports;h()(A,{VDivider:g["a"],VIcon:x["a"],VList:C["a"],VListItem:y["a"],VListItemContent:I["a"],VListItemGroup:w["a"],VListItemIcon:G["a"],VListItemTitle:I["c"]});var D={components:{MenuPrivado:S,MenuPublico:R},name:"MenuGiz",computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])("auth",["logged","user"])),{},{drawerState:{get:function(){return this.$store.getters.drawerState},set:function(t){return this.$store.commit("toggleDrawerState",t)}}})},M=D,F=(a("f442"),a("40dc")),j=a("5bc1"),N=a("b0af"),L=a("f774"),$=a("2fa4"),B=a("2a7f"),P=Object(_["a"])(M,l,d,!1,null,null,null),z=P.exports;h()(P,{VAppBar:F["a"],VAppBarNavIcon:j["a"],VCard:N["a"],VDivider:g["a"],VIcon:x["a"],VListItem:y["a"],VListItemContent:I["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"],VNavigationDrawer:L["a"],VSpacer:$["a"],VToolbarTitle:B["a"]});var q=a("9062"),U=a.n(q),Y=(a("e40d"),{components:{MenuGiz:z,Loading:U.a},data:function(){return{items:[{title:"Inicio",icon:"mdi-home",to:"/"},{title:"Dashboard",icon:"mdi-view-dashboard",to:"/dashboard"},{title:"Histórico",icon:"mdi-chart-pie",to:"/historico"}],icons:["mdi-facebook","mdi-twitter","mdi-linkedin","mdi-instagram"]}},created:function(){null!==c["a"].state.auth.token&&this.me()},computed:Object(n["a"])({},Object(s["c"])(["loading"])),methods:Object(n["a"])({},Object(s["b"])({me:"auth/me"}))}),H=Y,W=a("7496"),J=a("99d9"),X=a("553a"),K=a("f6c4"),Z=Object(_["a"])(H,r,o,!1,null,null,null),Q=Z.exports;h()(Z,{VApp:W["a"],VCard:N["a"],VCardText:J["b"],VFooter:X["a"],VMain:K["a"]});a("d3b7"),a("3ca3"),a("ddb0");var tt=a("8c4f"),et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mb-10"},[i("v-carousel",{attrs:{height:"500",cycle:"","hide-delimiter-background":"","show-arrows-on-hover":""}},t._l(t.items,(function(t,e){return i("v-carousel-item",{key:e,attrs:{src:t.src}})})),1),i("v-row",{staticClass:"text-center my-5"},[i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"primary","x-large":""},nativeOn:{click:function(e){return t.$router.push("/dashboard")}}},[i("v-icon",{staticClass:"mr-5",attrs:{right:"",dark:""}},[t._v(" mdi-view-dashboard ")]),t._v(" Información pública ")],1)],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"primary","x-large":""},nativeOn:{click:function(e){return t.$router.push("/login")}}},[i("v-icon",{staticClass:"mr-5",attrs:{right:"",dark:""}},[t._v(" mdi-chart-pie ")]),t._v(" Información institucional ")],1)],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-btn",{staticClass:"ma-2 white--text",attrs:{color:"primary","x-large":""},on:{click:t.manual}},[t._v(" Manual de la plataforma ")])],1)],1),i("v-card",[i("v-img",{attrs:{src:a("9ab0")}})],1)],1)},at=[],it={name:"Home",data:function(){return{items:[{src:a("89de")},{src:a("b80b")},{src:a("7a36")},{src:a("ee85")}]}},methods:{manual:function(){return window.open("http://pmipub.aetn.gob.bo:81/manual.pdf","_blank")}}},rt=it,ot=a("8336"),nt=a("5e66"),st=a("3e35"),ct=a("62ad"),lt=a("adda"),dt=a("0fd9"),ut=Object(_["a"])(rt,et,at,!1,null,null,null),pt=ut.exports;h()(ut,{VBtn:ot["a"],VCard:N["a"],VCarousel:nt["a"],VCarouselItem:st["a"],VCol:ct["a"],VIcon:x["a"],VImg:lt["a"],VRow:dt["a"]});var mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-10"},[t.loading?t._e():[a("Cabecera",{attrs:{titulo:"HISTÓRICO (variables/indicadores comparativos)",iconoTitulo:"mdi-monitor-dashboard",color:"primary"}}),a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"barracolor mb-5",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between my-2 py-2"},[t._v(" FILTROS APLICABLES ")])],1),a("FiltroHistorico",{attrs:{datos:t.result},on:{on_ciudad:t.onCiudad,on_mes_fin:t.onMesFin,on_dependencia:t.onDependencia,on_mes_inicio:t.onMesInicio,on_gestion_fin:t.onGestionFin,on_gestion_inicio:t.onGestionInicio}}),a("v-row",[a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" Esta sección permite visualizar las variables e indicadores para una secuencia de meses, ciudad y/o dependencia de las infraestructuras que el usuario seleccione con los filtros aplicables. "),a("br"),t._v(" La información está organizada según grupos de variables para: “Consumo de energía eléctrica”, “Emisión de CO"),a("sub",[t._v("2")]),t._v("”, “Importe de energía eléctrica”, y, variables e indicadores relacionados con: “Superficie construida”, y, con “Personal y visitantes” en las infraestructuras. ")])],1),a("v-row",{staticClass:"py-2",attrs:{align:"center",justify:"space-around"}},[a("v-btn",{attrs:{disabled:"Indicador1"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiarIndicador("Indicador1")}}},[t._v(" Consumo de energía eléctrica Facturada ")]),a("v-btn",{attrs:{disabled:"Indicador2"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiarIndicador("Indicador2")}}},[t._v(" Emisión de CO"),a("sub",[t._v("2")])]),a("v-btn",{attrs:{disabled:"Indicador3"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiarIndicador("Indicador3")}}},[t._v(" Importe de Energía Eléctrica ")]),a("v-btn",{attrs:{disabled:"Indicador4"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiarIndicador("Indicador4")}}},[t._v(" Superficie construida ")]),a("v-btn",{attrs:{disabled:"Indicador5"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiarIndicador("Indicador5")}}},[t._v(" Personal y visitantes ")])],1),t.actualizar?[a(t.componente,t._b({tag:"component"},"component",t.currentProperties,!1))]:[a("v-container",{staticClass:"mt-10",attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{align:"center"}},[a("v-card",{attrs:{color:"primary",dark:"",width:"200"}},[a("v-card-text",[t._v(" Actualizando...... "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)]],2)]],2)},ft=[],vt=a("bc3a"),_t=a.n(vt),bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"px-5"},[a("v-row",{staticClass:"px-5",attrs:{align:"center"}},[a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:t.ciudades,label:"Ciudades",multiple:""},on:{input:function(e){return t.onCiudad(e)}},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item,r=e.index;return[0===r?a("v-chip",[a("span",[t._v(t._s(i))])]):t._e(),1===r?a("span",{staticClass:"grey--text caption"},[t._v(" (+"+t._s(t.selectCiudad.length-1)+" otras) ")]):t._e()]}}]),model:{value:t.selectCiudad,callback:function(e){t.selectCiudad=e},expression:"selectCiudad"}})],1),a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:t.dependencias,label:"Dependencias",multiple:""},on:{input:function(e){return t.onDependencia(e)}},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item,r=e.index;return[0===r?a("v-chip",[a("span",[t._v(t._s(i))])]):t._e(),1===r?a("span",{staticClass:"grey--text caption"},[t._v(" (+"+t._s(t.selectDependencia.length-1)+" otras) ")]):t._e()]}}]),model:{value:t.selectDependencia,callback:function(e){t.selectDependencia=e},expression:"selectDependencia"}})],1)],1),a("v-row",{staticClass:"px-5",attrs:{align:"center"}},[a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:t.gestionesInicio,label:"Gestión inicio"},on:{input:function(e){return t.onGestionInicio(e)}},model:{value:t.selectGestionInicio,callback:function(e){t.selectGestionInicio=e},expression:"selectGestionInicio"}})],1),a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:t.mesesInicio,label:"Mes Inicio","item-text":"desc_mes","item-value":"mes","return-object":""},on:{input:function(e){return t.onMesInicio(e)}},model:{value:t.selectMesInicio,callback:function(e){t.selectMesInicio=e},expression:"selectMesInicio"}})],1),a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:t.gestionesFin,label:"Gestión fin"},on:{input:function(e){return t.onGestionFin(e)}},model:{value:t.selectGestionFin,callback:function(e){t.selectGestionFin=e},expression:"selectGestionFin"}})],1),a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:t.mesesFin,label:"Mes Fin","item-text":"desc_mes","item-value":"mes","return-object":""},on:{input:function(e){return t.onMesFin(e)}},model:{value:t.selectMesFin,callback:function(e){t.selectMesFin=e},expression:"selectMesFin"}})],1)],1)],1)},ht=[],gt={name:"FiltroHistorico",props:{datos:{type:Object}},data:function(){return{selectMesInicio:null,mesesInicio:[{desc_mes:"ENERO",mes:1},{desc_mes:"FEBRERO",mes:2},{desc_mes:"MARZO",mes:3},{desc_mes:"ABRIL",mes:4},{desc_mes:"MAYO",mes:5},{desc_mes:"JUNIO",mes:6},{desc_mes:"JULIO",mes:7},{desc_mes:"AGOSTO",mes:8},{desc_mes:"SEPTIEMBRE",mes:9},{desc_mes:"OCTUBRE",mes:10},{desc_mes:"NOVIEMBRE",mes:11},{desc_mes:"DICIEMBRE",mes:12}],selectGestionInicio:null,gestionesInicio:[],selectMesFin:null,mesesFin:[{desc_mes:"ENERO",mes:1},{desc_mes:"FEBRERO",mes:2},{desc_mes:"MARZO",mes:3},{desc_mes:"ABRIL",mes:4},{desc_mes:"MAYO",mes:5},{desc_mes:"JUNIO",mes:6},{desc_mes:"JULIO",mes:7},{desc_mes:"AGOSTO",mes:8},{desc_mes:"SEPTIEMBRE",mes:9},{desc_mes:"OCTUBRE",mes:10},{desc_mes:"NOVIEMBRE",mes:11},{desc_mes:"DICIEMBRE",mes:12}],selectGestionFin:null,gestionesFin:[],ciudades:null,selectCiudad:[],dependencias:null,selectDependencia:[]}},created:function(){this.selectMesInicio={desc_mes:this.datos.data.meses[0].desc_mes,mes:this.datos.data.meses[0].mes},this.selectGestionInicio=this.datos.data.gestiones[0],this.gestionesInicio=this.datos.data.gestiones,this.selectMesFin={desc_mes:this.datos.data.meses[this.datos.data.meses.length-1].desc_mes,mes:this.datos.data.meses[this.datos.data.meses.length-1].mes},this.selectGestionFin=this.datos.data.gestiones[0],this.gestionesFin=this.datos.data.gestiones,this.ciudades=this.datos.data.ciudad,this.selectCiudad=this.datos.data.ciudad,this.dependencias=this.datos.data.dependencia,this.selectDependencia=this.datos.data.dependencia},methods:{onMesFin:function(t){this.$emit("on_mes_fin",this.selectMesFin)},onGestionFin:function(t){this.$emit("on_gestion_fin",this.selectGestionFin)},onMesInicio:function(t){this.$emit("on_mes_inicio",this.selectMesInicio)},onGestionInicio:function(t){this.$emit("on_gestion_inicio",this.selectGestionInicio)},onDependencia:function(t){this.$emit("on_dependencia",this.selectDependencia)},onCiudad:function(t){this.$emit("on_ciudad",this.selectCiudad)}}},xt=gt,Ct=a("cc20"),yt=a("b974"),It=Object(_["a"])(xt,bt,ht,!1,null,null,null),wt=It.exports;h()(It,{VChip:Ct["a"],VCol:ct["a"],VRow:dt["a"],VSelect:yt["a"]});var Gt=a("fd60"),Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("v-row",{staticClass:"px-5"},[a("v-card",{staticClass:"barracolor mb-5",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between py-2"},[t._v(" 1. CONSUMO DE ENERGÍA ELÉCTRICA FACTURADA ")])],1),a("v-row",[a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" La información disponible de esta sección corresponde al consumo de energía eléctrica de los meses seleccionados. En la columna “Promedios globales”, se encuentran los datos de las variables del total de infraestructuras. En la columna “Promedios según filtro”, se encuentran los datos de las variables en función a los filtros seleccionados según ciudad, dependencia y/o mes, y finalmente el “% de variación según filtro” presenta la variación de la selección filtrada respecto al total. Las fórmulas utilizadas se detallan en el manual de usuario. ")])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-text",{staticClass:"py-2 caption black--text"},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("BarMultiVertical",{attrs:{inicial:t.inicialGrafico1,final:t.finalGrafico1,titulo:"Consumo histórico de energía eléctrica",tituloGrafico:"Consumo mensual",tituloX:"Mes - Gestión",tituloY:"kWh"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de barras muestra los datos de la sumatoria del consumo de energía mensual del total de las infraestructuras (global), y, de la selección realizada. ")])],1),a("v-row"),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico2,final:t.finalGrafico2,titulo:"Consumo promedio comparativo de energía eléctrica",tituloGrafico:"Consumo promedio mensual",tituloX:"Mes - Gestión",tituloY:"kWh (promedio)"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de líneas muestra el consumo de energía promedio mensual del total de las infraestructuras (global), y, de la selección realizada. ")])],1),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico3,final:t.finalGrafico3,titulo:"Variación porcentual del Consumo de energía eléctrica Facturada",tituloGrafico:"Variación porcentual mensual",tituloX:"Mes - Gestión",tituloY:"Porcentaje"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de líneas muestra el incremento o decremento de los promedios de consumo de energía del total de las infraestructuras (global), y, de la selección realizada. ")])],1)],1)],1),[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-dialog",{attrs:{transition:"dialog-bottom-transition",scrollable:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"px-6",attrs:{small:"",color:"primary"}},"v-btn",r,!1),i),[t._v("Reporte")])]}},{key:"default",fn:function(e){return[a("v-card",[a("v-card-text",[a("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],ref:"documento1",staticStyle:{width:"1050px"}},[a("ReporteIndicador1",{attrs:{totales:t.totales,cabecera:t.cabecera,inicialGrafico1:t.inicialGrafico1,finalGrafico1:t.finalGrafico1,inicialGrafico2:t.inicialGrafico2,finalGrafico2:t.finalGrafico2,inicialGrafico3:t.inicialGrafico3,finalGrafico3:t.finalGrafico3,tituloImpresion:t.titulo}})],1)]),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.imprimir}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-file-pdf ")]),t._v(" Generar PDF")],1),a("v-btn",{attrs:{outlined:"",color:"error"},on:{click:function(t){e.value=!1}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close-circle ")]),t._v(" Cerrar")],1)],1)],1)]}}])})],1)],1)],a("br")],t._v(" "+t._s(t.actualizar)+" ")],2)},St=[],Ot=(a("13d5"),a("d81d"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"ma-0 pa-0"},[t.reporte?a("v-card-title",{staticClass:"graficas white--text caption px-2 py-1"},[a("span",{domProps:{innerHTML:t._s(t.titulo)}})]):t._e(),a("v-card-text",{staticClass:"pa-2"},[a("div",[a("apexchart",{attrs:{type:"bar",height:t.alto,options:t.chartOptions,series:t.series}})],1)])],1),t._v(" "+t._s(t.dibujar)+" ")],1)}),kt=[],Vt=(a("a9e3"),{name:"BarMultiVertical",props:{inicial:{type:Array},final:{type:Array},titulo:{type:String},tituloGrafico:{type:String},tituloX:{type:String},tituloY:{type:String},alto:{type:Number,default:300},reporte:{type:Boolean,default:!0}},data:function(){return{series:[{name:"Global",data:this.inicial.map((function(t){return t.serie1}))},{name:"Selección",data:this.final.map((function(t){return t.serie2}))}],chartOptions:{chart:{type:"bar",height:300},plotOptions:{bar:{horizontal:!1,dataLabels:{orientation:"vertical",position:"center"}}},dataLabels:{enabled:!0,formatter:function(t,e){var a=new Intl.NumberFormat("en-US");return a.format(t)},offsetY:-20,style:{fontSize:"12px",colors:["#000000"]}},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:this.inicial.map((function(t){return t.categoria})),title:{text:this.tituloX}},yaxis:{title:{text:this.tituloY},labels:{show:!0,formatter:function(t,e){var a=new Intl.NumberFormat("en-US");return a.format(t)}}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t}}}}}},computed:{dibujar:function(){this.series=[{name:"Global",data:this.inicial.map((function(t){return t.serie1}))},{name:"Selección",data:this.final.map((function(t){return t.serie2}))}],this.chartOptions={chart:{type:"bar",height:300},plotOptions:{bar:{horizontal:!1,dataLabels:{orientation:"vertical",position:"center"}}},dataLabels:{enabled:!0,formatter:function(t,e){var a=new Intl.NumberFormat("en-US");return a.format(t)},offsetY:-20,style:{fontSize:"12px",colors:["#000000"]}},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:this.inicial.map((function(t){return t.categoria})),title:{text:this.tituloX}},yaxis:{title:{text:this.tituloY},labels:{show:!0,formatter:function(t,e){var a=new Intl.NumberFormat("en-US");return a.format(t)}}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t}}}}}}}),Tt=Vt,At=Object(_["a"])(Tt,Ot,kt,!1,null,null,null),Rt=At.exports;h()(At,{VCard:N["a"],VCardText:J["b"],VCardTitle:J["c"]});var Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"ma-0 pa-0"},[t.reporte?a("v-card-title",{staticClass:"graficas white--text caption px-2 py-1"},[a("span",{domProps:{innerHTML:t._s(t.titulo)}})]):t._e(),a("v-card-text",{staticClass:"pa-2"},[a("div",[a("apexchart",{attrs:{type:"line",height:t.alto,options:t.chartOptions,series:t.series}})],1)])],1),t._v(" "+t._s(t.dibujar)+" ")],1)},Mt=[],Ft=(a("b680"),{name:"LineGraph",props:{inicial:{type:Array},final:{type:Array},titulo:{type:String},tituloGrafico:{type:String},tituloX:{type:String},tituloY:{type:String},alto:{type:Number,default:300},reporte:{type:Boolean,default:!0}},data:function(){return{series:[{name:"Global",data:this.inicial.map((function(t){return t.serie1}))},{name:"Selección",data:this.final.map((function(t){return t.serie2}))}],chartOptions:{chart:{height:250,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},toolbar:{show:!1}},dataLabels:{enabled:!0},stroke:{curve:"smooth"},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:1},xaxis:{categories:this.inicial.map((function(t){return t.categoria})),title:{text:this.tituloX}},yaxis:{title:{text:this.tituloY},labels:{show:!0,formatter:function(t,e){var a=new Intl.NumberFormat("en-US");return a.format(parseFloat(t).toFixed(1))}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}}}},computed:{dibujar:function(){this.series=[{name:"Global",data:this.inicial.map((function(t){return t.serie1}))},{name:"Selección",data:this.final.map((function(t){return t.serie2}))}],this.chartOptions={chart:{height:250,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2},toolbar:{show:!1}},colors:["#00ff00","#ff6000"],dataLabels:{enabled:!0,formatter:function(t,e){var a=new Intl.NumberFormat("en-US");return a.format(t)}},stroke:{curve:"smooth"},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:1},xaxis:{categories:this.inicial.map((function(t){return t.categoria})),title:{text:this.tituloX}},yaxis:{labels:{show:!0,formatter:function(t,e){var a=new Intl.NumberFormat("en-US");return a.format(parseFloat(t).toFixed(1))}},title:{text:this.tituloY}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-25,offsetX:-5}}}}}),jt=Ft,Nt=Object(_["a"])(jt,Dt,Mt,!1,null,null,null),Lt=Nt.exports;h()(Nt,{VCard:N["a"],VCardText:J["b"],VCardTitle:J["c"]});var $t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"caption",attrs:{cellspacing:"0",cellpadding:"0",border:"0",width:"100%"}},[a("thead",[a("tr",{staticClass:"cabecera",staticStyle:{"background-color":"#46853a",color:"#fff"}},[a("th",{staticStyle:{width:"37%"}},[t._v(t._s(t.cabecera[0]))]),a("th",{staticStyle:{width:"13%"}},[t._v(t._s(t.cabecera[1]))]),a("th",{staticStyle:{width:"13%"}},[t._v(t._s(t.cabecera[2]))]),a("th",{staticStyle:{width:"12%"}},[t._v(t._s(t.cabecera[3]))]),a("th",{staticStyle:{width:"25%"}})])]),a("tbody",t._l(t.totales,(function(e,i){return a("tr",{key:i,staticClass:"detalle"},[12==i?[a("td",{staticStyle:{"text-align":"right"}},[a("span",{domProps:{innerHTML:t._s(t.totales[i].texto)}})]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.totales[i].promedio))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.totales[i].seleccion))]),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.totales[i].porcentaje)+"%")])]:[a("td",{staticStyle:{"text-align":"right"}},[a("span",{domProps:{innerHTML:t._s(t.totales[i].texto)}})]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.formatoNumero(t.totales[i].promedio)))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.formatoNumero(t.totales[i].seleccion)))]),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.formatoNumero(t.totales[i].porcentaje))+"%")])],a("td",[a("table",{attrs:{width:"100%",cellspacing:"0",cellpadding:"0"}},[a("tr",[a("td",{staticStyle:{width:"50%","text-align":"right","font-size":"10px","font-weight":"bold"}},[t.totales[i].porcentaje<0?[t._v(" "+t._s(t.totales[i].porcentaje)+"% "),a("div",{staticClass:"a",style:"width:"+-.8*t.totales[i].porcentaje+"%;"})]:t._e()],2),a("td",{staticStyle:{width:"50%","font-size":"10px","font-weight":"bold"}},[t.totales[i].porcentaje>0?[a("div",{staticClass:"b",style:"width:"+.8*t.totales[i].porcentaje+"%;"}),t._v(" "+t._s(t.totales[i].porcentaje)+"% ")]:t._e()],2)])])])],2)})),0)])])},Bt=[],Pt={name:"GraficoTabla",props:{totales:{type:Object},cabecera:{type:Array}},methods:{formatoNumero:function(t){return new Intl.NumberFormat("en-US").format(t)}}},zt=Pt,qt=(a("2d43"),Object(_["a"])(zt,$t,Bt,!1,null,null,null)),Ut=qt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("div",{staticStyle:{"padding-top":"20px","padding-bottom":"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" "+t._s(t.tituloImpresion)+" ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v(" 1. Consumo de energía eléctrica Facturada ")])]),a("v-col",{attrs:{cols:"12"}},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Consumo histórico de energía eléctrica ")])]),a("v-col",{attrs:{cols:"12"}},[a("BarMultiVertical",{attrs:{inicial:t.inicialGrafico1,final:t.finalGrafico1,titulo:"Consumo histórico de energía eléctrica",tituloGrafico:"Consumo mensual",tituloX:"Mes - Gestión",tituloY:"kWh",reporte:!1}})],1)],1),a("div",{staticClass:"html2pdf__page-break"}),a("div",{staticStyle:{"padding-top":"20px","padding-bottom":"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" VARIABLES E INDICADORES COMPARATIVOS HISTÓRICOS ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Consumo promedio comparativo de energía eléctrica ")])]),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico2,final:t.finalGrafico2,titulo:"Consumo promedio comparativo de energía eléctrica",tituloGrafico:"Consumo promedio mensual",tituloX:"Mes - Gestión",tituloY:"kWh (promedio)",reporte:!1}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Variación porcentual del Consumo de energía eléctrica Facturada ")])]),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico3,final:t.finalGrafico3,titulo:"Variación porcentual del Consumo de energía eléctrica Facturada",tituloGrafico:"Variación porcentual mensual",tituloX:"Mes - Gestión",tituloY:"Porcentaje",reporte:!1}})],1)],1)],1)],1)},Ht=[],Wt={name:"ReporteIndicador1",components:{GraficoTabla:Ut,BarMultiVertical:Rt,LineGraph:Lt},props:{cabecera:{type:Array},totales:{type:Object},inicialGrafico1:{type:Array},finalGrafico1:{type:Array},inicialGrafico2:{type:Array},finalGrafico2:{type:Array},inicialGrafico3:{type:Array},finalGrafico3:{type:Array},tituloImpresion:{type:String}}},Jt=Wt,Xt=a("a523"),Kt=Object(_["a"])(Jt,Yt,Ht,!1,null,null,null),Zt=Kt.exports;h()(Kt,{VCol:ct["a"],VContainer:Xt["a"],VRow:dt["a"]});var Qt=a("d67e"),te=a.n(Qt),ee={components:{GraficoTabla:Ut,BarMultiVertical:Rt,LineGraph:Lt,ReporteIndicador1:Zt},name:"Indicador1",props:{pglobal:{type:Array},pseleccion:{type:Array}},data:function(){return{finalGrafico1:[],inicialGrafico1:[],finalGrafico2:[],inicialGrafico2:[],finalGrafico3:[],inicialGrafico3:[],totales:{},global:{},seleccion:{},titulo:"",cabecera:["Variables","Promedios globales","Promedios según filtro","% de variación según filtro"]}},created:function(){this.titulo=c["a"].state.titulo,this.calcularGraficas(),this.global=this.calcularTabla(this.pglobal),this.seleccion=this.calcularTabla(this.pseleccion),this.totales=this.tablaIndicadores()},methods:{imprimir:function(){te()(this.$refs.documento1,{margin:0,filename:"consumoee.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"landscape"}})},tablaIndicadores:function(){var t={};return t[0]={texto:"Consumo de energía eléctrica Facturada [kWh]",promedio:this.global.indice_consumo_energetico,seleccion:this.seleccion.indice_consumo_energetico,porcentaje:Math.round(this.seleccion.indice_consumo_energetico/this.global.indice_consumo_energetico*100)/1},t[1]={texto:"Consumo de energía eléctrica Facturada promedio por infraestructura [kWh]",promedio:this.global.avg_indice_consumo_energetico,seleccion:this.seleccion.avg_indice_consumo_energetico,porcentaje:Math.round(100*(this.seleccion.avg_indice_consumo_energetico/this.global.avg_indice_consumo_energetico-1))/1},t[2]={texto:"Consumo de energía primaria promedio[kWh]",promedio:this.global.avg_energia_primaria,seleccion:this.seleccion.avg_energia_primaria,porcentaje:Math.round(100*(this.seleccion.avg_energia_primaria/this.global.avg_energia_primaria-1))/1},t},calcularTabla:function(t){return{indice_consumo_energetico:t.reduce((function(t,e){return t+parseInt(e.indice_consumo_energetico)}),0),avg_indice_consumo_energetico:Math.round(t.reduce((function(t,e){return t+parseInt(e.avg_indice_consumo_energetico)}),0)/t.length*1)/1,avg_energia_primaria:Math.round(t.reduce((function(t,e){return t+parseInt(e.avg_energia_primaria)}),0)/t.length*1)/1}},calcularGraficas:function(){var t=this;this.inicialGrafico1=this.pglobal.map((function(t){var e={};return e.serie1=t.indice_consumo_energetico,e.categoria=t.abr_mes+"-"+t.gestion,e})),this.finalGrafico1=this.pseleccion.map((function(t){var e={};return e.serie2=t.indice_consumo_energetico,e})),this.inicialGrafico2=this.pglobal.map((function(t){var e={};return e.serie1=parseInt(t.avg_indice_consumo_energetico),e.categoria=t.abr_mes+"-"+t.gestion,e})),this.finalGrafico2=this.pseleccion.map((function(t){var e={};return e.serie2=parseInt(t.avg_indice_consumo_energetico),e})),this.inicialGrafico3=[],this.inicialGrafico2.forEach((function(e,a,i){var r;0==a?t.inicialGrafico3.push({serie1:0,categoria:e.categoria}):(r=100*(parseFloat(t.inicialGrafico2[a].serie1)/parseFloat(t.inicialGrafico2[a-1].serie1)-1),t.inicialGrafico3.push({serie1:Math.round(100*r)/100,categoria:e.categoria}))})),this.finalGrafico3=[],this.finalGrafico2.forEach((function(e,a,i){var r;0==a?t.finalGrafico3.push({serie2:0}):(r=100*(parseFloat(t.finalGrafico2[a].serie2)/parseFloat(t.finalGrafico2[a-1].serie2)-1),t.finalGrafico3.push({serie2:Math.round(100*r)/100}))}))}},computed:{actualizar:function(){this.calcularGraficas(),this.global=this.calcularTabla(this.pglobal),this.seleccion=this.calcularTabla(this.pseleccion),this.totales=this.tablaIndicadores()}}},ae=ee,ie=a("169a"),re=Object(_["a"])(ae,Et,St,!1,null,null,null),oe=re.exports;h()(re,{VBtn:ot["a"],VCard:N["a"],VCardActions:J["a"],VCardText:J["b"],VCol:ct["a"],VDialog:ie["a"],VIcon:x["a"],VRow:dt["a"]});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("v-row",{staticClass:"px-5"},[a("v-card",{staticClass:"barracolor mb-5",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between py-2"},[t._v(" 2. EMISIONES DE CO2 ")])],1),a("v-row",[a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" La información disponible de esta sección corresponde a las emisiones de CO"),a("sub",[t._v("2")]),t._v(" (asociadas al consumo de energía eléctrica en las infraestructuras), expresadas en toneladas equivalentes para los meses seleccionados. En la columna “Promedios globales”, se encuentran los datos de las emisiones del total de infraestructuras. En la columna “Promedios según filtro”, se encuentran los datos de las emisiones en función a los filtros seleccionados según ciudad, dependencia y/o mes, y finalmente el “% de variación según filtro” presenta la variación de la selección filtrada respecto al total. Las fórmulas utilizadas se detallan en el manual de usuario. ")])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-text",{staticClass:"py-2 caption black--text"},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("BarMultiVertical",{attrs:{inicial:t.inicialGrafico1,final:t.finalGrafico1,titulo:"Histórico de emisiones de CO<sub>2</sub>",tituloGrafico:"Emisiones de CO2 mensual",tituloX:"Mes - Gestión",tituloY:"CO2 [teq]"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de barras muestra los datos de la sumatoria de las emisiones de CO"),a("sub",[t._v("2")]),t._v(" mensual del total de las infraestructuras (global), y, de la selección realizada. ")])],1),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico2,final:t.finalGrafico2,titulo:"Comparación de emisiones promedio de CO<sub>2</sub>",tituloGrafico:"Emisiones promedio mensual de CO2",tituloX:"Mes - Gestión",tituloY:"teq CO2(Promedio)"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de líneas muestra las emisiones promedio mensual de CO"),a("sub",[t._v("2")]),t._v(" del total de las infraestructuras (global), y, de la selección realizada. ")])],1),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico3,final:t.finalGrafico3,titulo:"Variación porcentual de emisión de CO<sub>2</sub>",tituloGrafico:"Variación porcentual mensual",tituloX:"Mes - Gestión",tituloY:"Porcentaje"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de líneas muestra el incremento o decremento de los promedios de emisiones de CO"),a("sub",[t._v("2")]),t._v(" del total de las infraestructuras (global), y, de la selección realizada. ")])],1)],1),[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-dialog",{attrs:{transition:"dialog-bottom-transition",scrollable:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"px-6",attrs:{small:"",color:"primary"}},"v-btn",r,!1),i),[t._v("Reporte")])]}},{key:"default",fn:function(e){return[a("v-card",[a("v-card-text",[a("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],ref:"documento1",staticStyle:{width:"1050px"}},[a("ReporteIndicador2",{attrs:{totales:t.totales,cabecera:t.cabecera,inicialGrafico1:t.inicialGrafico1,finalGrafico1:t.finalGrafico1,inicialGrafico2:t.inicialGrafico2,finalGrafico2:t.finalGrafico2,inicialGrafico3:t.inicialGrafico3,finalGrafico3:t.finalGrafico3,tituloImpresion:t.titulo}})],1)]),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.imprimir}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-file-pdf ")]),t._v(" Generar PDF")],1),a("v-btn",{attrs:{outlined:"",color:"error"},on:{click:function(t){e.value=!1}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close-circle ")]),t._v(" Cerrar")],1)],1)],1)]}}])})],1)],1)]],2),a("br")],t._v(" "+t._s(t.actualizar)+" ")],2)},se=[],ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("div",{staticStyle:{"padding-top":"20px","padding-bottom":"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" "+t._s(t.tituloImpresion)+" ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v(" 2. Emisiones de CO"),a("sub",[t._v("2")])])]),a("v-col",{attrs:{cols:"12"}},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Histórico de emisiones de CO"),a("sub",[t._v("2")])])]),a("v-col",{attrs:{cols:"12"}},[a("BarMultiVertical",{attrs:{inicial:t.inicialGrafico1,final:t.finalGrafico1,titulo:"Histórico de emisiones de CO<sub>2</sub>",tituloGrafico:"Emisiones de CO2 mensual",tituloX:"Mes - Gestión",tituloY:"CO2 [teq]",reporte:!1}})],1)],1),a("div",{staticClass:"html2pdf__page-break"}),a("div",{staticStyle:{"padding-top":"20px","padding-bottom":"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" VARIABLES E INDICADORES COMPARATIVOS HISTÓRICOS ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Comparación de emisiones promedio de CO"),a("sub",[t._v("2")])])]),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico2,final:t.finalGrafico2,titulo:"Comparación de emisiones promedio de CO<sub>2</sub>",tituloGrafico:"Emisiones promedio mensual de CO2",tituloX:"Mes - Gestión",tituloY:"teq CO2(Promedio)",reporte:!1}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Variación porcentual de emisión de CO"),a("sub",[t._v("2")])])]),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico3,final:t.finalGrafico3,titulo:"Variación porcentual de emisión de CO<sub>2</sub>",tituloGrafico:"Variación porcentual mensual",tituloX:"Mes - Gestión",tituloY:"Porcentaje",reporte:!1}})],1)],1)],1)],1)},le=[],de={name:"ReporteIndicador2",components:{GraficoTabla:Ut,BarMultiVertical:Rt,LineGraph:Lt},props:{cabecera:{type:Array},totales:{type:Object},inicialGrafico1:{type:Array},finalGrafico1:{type:Array},inicialGrafico2:{type:Array},finalGrafico2:{type:Array},inicialGrafico3:{type:Array},finalGrafico3:{type:Array},tituloImpresion:{type:String}}},ue=de,pe=Object(_["a"])(ue,ce,le,!1,null,null,null),me=pe.exports;h()(pe,{VCol:ct["a"],VContainer:Xt["a"],VRow:dt["a"]});var fe={components:{GraficoTabla:Ut,BarMultiVertical:Rt,LineGraph:Lt,ReporteIndicador2:me},name:"Indicador2",props:{pglobal:{type:Array},pseleccion:{type:Array}},data:function(){return{finalGrafico1:[],inicialGrafico1:[],finalGrafico2:[],inicialGrafico2:[],finalGrafico3:[],inicialGrafico3:[],totales:{},global:{},seleccion:{},titulo:"",cabecera:["Variables","Promedios globales","Promedios según filtro","% de variación según filtro"]}},created:function(){this.calcularGraficas(),this.titulo=c["a"].state.titulo,this.global=this.calcularTabla(this.pglobal),this.seleccion=this.calcularTabla(this.pseleccion),this.totales=this.tablaIndicadores()},methods:{imprimir:function(){te()(this.$refs.documento1,{margin:0,filename:"consumoee.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"landscape"}})},tablaIndicadores:function(){var t={};return t[0]={texto:"Emisiones de CO<sub>2</sub> [t<sub>eq</sub>]",promedio:this.global.consumo_co2,seleccion:this.seleccion.consumo_co2,porcentaje:Math.round(this.seleccion.consumo_co2/this.global.consumo_co2*1e4)/100},t[1]={texto:"Emisiones de CO<sub>2</sub> promedio por infraestructura [t<sub>eq</sub>]",promedio:this.global.avg_consumo_co2,seleccion:this.seleccion.avg_consumo_co2,porcentaje:Math.round(1e4*(this.seleccion.avg_consumo_co2/this.global.avg_consumo_co2-1))/100},t},calcularTabla:function(t){return{consumo_co2:t.reduce((function(t,e){return t+parseFloat(e.consumo_co2)}),0),avg_consumo_co2:Math.round(t.reduce((function(t,e){return t+parseFloat(e.avg_consumo_co2)}),0)/t.length*100)/100}},calcularGraficas:function(){var t=this;this.inicialGrafico1=this.pglobal.map((function(t){var e={};return e.serie1=t.consumo_co2,e.categoria=t.abr_mes+"-"+t.gestion,e})),this.finalGrafico1=this.pseleccion.map((function(t){var e={};return e.serie2=t.consumo_co2,e})),this.inicialGrafico2=this.pglobal.map((function(t){var e={};return e.serie1=parseFloat(t.avg_consumo_co2),e.categoria=t.abr_mes+"-"+t.gestion,e})),this.finalGrafico2=this.pseleccion.map((function(t){var e={};return e.serie2=parseFloat(t.avg_consumo_co2),e})),this.inicialGrafico3=[],this.inicialGrafico2.forEach((function(e,a,i){var r;0==a?t.inicialGrafico3.push({serie1:0,categoria:e.categoria}):(r=100*(parseFloat(t.inicialGrafico2[a].serie1)/parseFloat(t.inicialGrafico2[a-1].serie1)-1),t.inicialGrafico3.push({serie1:Math.round(100*r)/100,categoria:e.categoria}))})),this.finalGrafico3=[],this.finalGrafico2.forEach((function(e,a,i){var r;0==a?t.finalGrafico3.push({serie2:0}):(r=100*(parseFloat(t.finalGrafico2[a].serie2)/parseFloat(t.finalGrafico2[a-1].serie2)-1),t.finalGrafico3.push({serie2:Math.round(100*r)/100}))}))}},computed:{actualizar:function(){this.calcularGraficas(),this.global=this.calcularTabla(this.pglobal),this.seleccion=this.calcularTabla(this.pseleccion),this.totales=this.tablaIndicadores()}}},ve=fe,_e=Object(_["a"])(ve,ne,se,!1,null,null,null),be=_e.exports;h()(_e,{VBtn:ot["a"],VCard:N["a"],VCardActions:J["a"],VCardText:J["b"],VCol:ct["a"],VDialog:ie["a"],VIcon:x["a"],VRow:dt["a"]});var he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("v-row",{staticClass:"px-5"},[a("v-card",{staticClass:"barracolor mb-5",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between py-2"},[t._v(" 3. IMPORTE DE ENERGÍA ELÉCTRICA ")])],1),a("v-row",[a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" La información disponible de esta sección corresponde al importe de energía eléctrica, expresado en bolivianos, asociados al consumo de energía eléctrica para los meses seleccionados. En la columna “Promedios globales”, se encuentran los datos del importe para el total de infraestructuras. En la columna “Promedios según filtro”, se encuentran los datos del importe en función a los filtros seleccionados según ciudad, dependencia y/o mes, y finalmente el “% de variación según filtro” presenta la variación de la selección filtrada respecto al total. Las fórmulas utilizadas se detallan en el manual de usuario. ")])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-text",{staticClass:"py-2 caption black--text"},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico2,final:t.finalGrafico2,titulo:"Importe promedio comparativo de energía eléctrica",tituloGrafico:"Importe promedio mensual",tituloX:"Mes - Gestión",tituloY:"Bs (Promedio)"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de líneas muestra el importe promedio mensual de energía eléctrica, del total de las infraestructuras (global), y, de la selección realizada. ")])],1),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico3,final:t.finalGrafico3,titulo:"Variación porcentual del importe de energía eléctrica",tituloGrafico:"Variación porcentual mensual",tituloX:"Mes - Gestión",tituloY:"Porcentaje"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de líneas muestra el incremento o decremento de los promedios de importe de energía eléctrica del total de las infraestructuras (global), y, de la selección realizada. ")])],1)],1),[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-dialog",{attrs:{transition:"dialog-bottom-transition",scrollable:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"px-6",attrs:{small:"",color:"primary"}},"v-btn",r,!1),i),[t._v("Reporte")])]}},{key:"default",fn:function(e){return[a("v-card",[a("v-card-text",[a("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],ref:"documento1",staticStyle:{width:"1050px"}},[a("ReporteIndicador3",{attrs:{totales:t.totales,cabecera:t.cabecera,inicialGrafico2:t.inicialGrafico2,finalGrafico2:t.finalGrafico2,inicialGrafico3:t.inicialGrafico3,finalGrafico3:t.finalGrafico3,tituloImpresion:t.titulo}})],1)]),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.imprimir}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-file-pdf ")]),t._v(" Generar PDF")],1),a("v-btn",{attrs:{outlined:"",color:"error"},on:{click:function(t){e.value=!1}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close-circle ")]),t._v(" Cerrar")],1)],1)],1)]}}])})],1)],1)]],2),a("br")],t._v(" "+t._s(t.actualizar)+" ")],2)},ge=[],xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("div",{staticStyle:{"padding-top":"20px","padding-bottom":"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" "+t._s(t.tituloImpresion)+" ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v(" 3. Importe de Energía Eléctrica ")])]),a("v-col",{attrs:{cols:"12"}},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Importe promedio comparativo de energía eléctrica ")])]),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico2,final:t.finalGrafico2,titulo:"Importe promedio comparativo de energía eléctrica",tituloGrafico:"Importe promedio mensual",tituloX:"Mes - Gestión",tituloY:"Bs (Promedio)",reporte:!1}})],1)],1),a("div",{staticClass:"html2pdf__page-break"}),a("div",{staticStyle:{"padding-top":"20px","padding-bottom":"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" VARIABLES E INDICADORES COMPARATIVOS HISTÓRICOS ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Variación porcentual del importe de energía eléctrica ")])]),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico3,final:t.finalGrafico3,titulo:"Variación porcentual del importe de energía eléctrica",tituloGrafico:"Variación porcentual mensual",tituloX:"Mes - Gestión",tituloY:"Porcentaje",reporte:!1}})],1)],1)],1)],1)},Ce=[],ye={name:"ReporteIndicador3",components:{GraficoTabla:Ut,BarMultiVertical:Rt,LineGraph:Lt},props:{cabecera:{type:Array},totales:{type:Object},inicialGrafico2:{type:Array},finalGrafico2:{type:Array},inicialGrafico3:{type:Array},finalGrafico3:{type:Array},tituloImpresion:{type:String}}},Ie=ye,we=Object(_["a"])(Ie,xe,Ce,!1,null,null,null),Ge=we.exports;h()(we,{VCol:ct["a"],VContainer:Xt["a"],VRow:dt["a"]});var Ee={components:{GraficoTabla:Ut,BarMultiVertical:Rt,LineGraph:Lt,ReporteIndicador3:Ge},name:"Indicador3",props:{pglobal:{type:Array},pseleccion:{type:Array}},data:function(){return{finalGrafico2:[],inicialGrafico2:[],finalGrafico3:[],inicialGrafico3:[],totales:{},global:{},seleccion:{},titulo:"",cabecera:["Variables","Promedios globales","Promedios según filtro","% de variación según filtro"]}},created:function(){this.calcularGraficas(),this.titulo=c["a"].state.titulo,this.global=this.calcularTabla(this.pglobal),this.seleccion=this.calcularTabla(this.pseleccion),this.totales=this.tablaIndicadores()},methods:{imprimir:function(){te()(this.$refs.documento1,{margin:0,filename:"consumoee.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"landscape"}})},tablaIndicadores:function(){var t={};return t[0]={texto:"Importe de Energía Eléctrica [Bs]",promedio:this.global.indice_consumo_bs,seleccion:this.seleccion.indice_consumo_bs,porcentaje:Math.round(this.seleccion.indice_consumo_bs/this.global.indice_consumo_bs*1e4)/100},t[1]={texto:"Importe de Energía Eléctrica promedio por infraestructura [Bs]",promedio:this.global.avg_indice_consumo_bs,seleccion:this.seleccion.avg_indice_consumo_bs,porcentaje:Math.round(1e4*(this.seleccion.avg_indice_consumo_bs/this.global.avg_indice_consumo_bs-1))/100},t},calcularTabla:function(t){return{indice_consumo_bs:t.reduce((function(t,e){return t+parseFloat(e.indice_consumo_bs)}),0),avg_indice_consumo_bs:Math.round(t.reduce((function(t,e){return t+parseFloat(e.avg_indice_consumo_bs)}),0)/t.length*100)/100}},calcularGraficas:function(){var t=this;this.inicialGrafico2=this.pglobal.map((function(t){var e={};return e.serie1=parseFloat(t.avg_indice_consumo_bs),e.categoria=t.abr_mes+"-"+t.gestion,e})),this.finalGrafico2=this.pseleccion.map((function(t){var e={};return e.serie2=parseFloat(t.avg_indice_consumo_bs),e})),this.inicialGrafico3=[],this.inicialGrafico2.forEach((function(e,a,i){var r;0==a?t.inicialGrafico3.push({serie1:0,categoria:e.categoria}):(r=100*(parseFloat(t.inicialGrafico2[a].serie1)/parseFloat(t.inicialGrafico2[a-1].serie1)-1),t.inicialGrafico3.push({serie1:Math.round(100*r)/100,categoria:e.categoria}))})),this.finalGrafico3=[],this.finalGrafico2.forEach((function(e,a,i){var r;0==a?t.finalGrafico3.push({serie2:0}):(r=100*(parseFloat(t.finalGrafico2[a].serie2)/parseFloat(t.finalGrafico2[a-1].serie2)-1),t.finalGrafico3.push({serie2:Math.round(100*r)/100}))}))}},computed:{actualizar:function(){this.calcularGraficas(),this.global=this.calcularTabla(this.pglobal),this.seleccion=this.calcularTabla(this.pseleccion),this.totales=this.tablaIndicadores()}}},Se=Ee,Oe=Object(_["a"])(Se,he,ge,!1,null,null,null),ke=Oe.exports;h()(Oe,{VBtn:ot["a"],VCard:N["a"],VCardActions:J["a"],VCardText:J["b"],VCol:ct["a"],VDialog:ie["a"],VIcon:x["a"],VRow:dt["a"]});var Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("v-row",{staticClass:"px-5"},[a("v-card",{staticClass:"barracolor mb-5",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between py-2"},[t._v(" 4. SUPERFICIE CONSTRUIDA ")])],1),a("v-row",[a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" La información disponible de esta sección corresponde a la superficie construida de las infraestructuras, expresada en metros cuadrados. En la columna “Promedios globales”, se encuentran los datos de las variables e indicadores energéticos: [kWh/m"),a("sup",[t._v("2")]),t._v("], [kg"),a("sub",[t._v("eq")]),t._v(" CO"),a("sub",[t._v("2")]),t._v("/m"),a("sup",[t._v("2")]),t._v("] y [Bs/m"),a("sup",[t._v("2")]),t._v("], del total de infraestructuras. En la columna “Promedios según filtro”, se encuentran los datos de las variables e indicadores energéticos en función a los filtros seleccionados según ciudad, dependencia y/o mes, y, finalmente el “% de variación según filtro” presenta la variación de la selección filtrada respecto al total. Las fórmulas utilizadas se detallan en el manual de usuario. ")])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-text",{staticClass:"py-2 caption black--text"},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("GraficoEficiencia",{attrs:{titulo:"Gráfico de desempeño energético en función a la emisión específica de CO<sub>2</sub> por superficie construida [kg<sub>eq</sub> CO<sub>2</sub>/m<sup>2</sup>]",valor:t.valorEficiencia,rangos:t.rango1}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico muestra la ubicación que tiene la selección filtrada en base a una escala promedio de desempeño energético en términos de emisiones de CO"),a("sub",[t._v("2")]),t._v(" por superficie construida [kg"),a("sub",[t._v("eq")]),t._v(" CO"),a("sub",[t._v("2")]),t._v("/m"),a("sup",[t._v("2")]),t._v("]. La escala está elaborada con los datos de todas las infraestructuras registradas. ")])],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("GraficoEficiencia",{attrs:{titulo:"Gráfico de desempeño energético en función al consumo específico de energía eléctrica por superficie construida [kWh/m<sup>2</sup>]",valor:t.valorEficiencia2,rangos:t.rango2}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico muestra la ubicación que tiene la selección filtrada en base a una escala promedio de desempeño energético en términos de consumo de energía por superficie construida [kWh/m"),a("sup",[t._v("2")]),t._v("]. La escala está elaborada con los datos de todas las infraestructuras registradas. ")])],1),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico2,final:t.finalGrafico2,titulo:"Curva comparativa - consumos específicos promedio de energía eléctrica por superficie construida",tituloGrafico:"Consumo específico promedio mensual",tituloX:"Mes - Gestión",tituloY:"kWh/m2 (Promedio)"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de líneas muestra el comportamiento del indicador de consumo de energía por superficie construida promedio mensual, del total de las infraestructuras (global), y, de la selección realizada. ")])],1),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico3,final:t.finalGrafico3,titulo:"Variación porcentual - consumos específicos promedio de energía eléctrica por superficie construida",tituloGrafico:"Variación porcentual mensual",tituloX:"Mes - Gestión",tituloY:"Porcentaje"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de líneas muestra el incremento o decremento de los promedios del indicador de consumo de energía por superficie construida para el total de las infraestructuras (global), y, de la selección realizada. ")])],1)],1),[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-dialog",{attrs:{transition:"dialog-bottom-transition",scrollable:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"px-6",attrs:{small:"",color:"primary"}},"v-btn",r,!1),i),[t._v("Reporte")])]}},{key:"default",fn:function(e){return[a("v-card",[a("v-card-text",[a("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],ref:"documento1",staticStyle:{width:"1050px"}},[a("ReporteIndicador4",{attrs:{totales:t.totales,cabecera:t.cabecera,valorEficiencia:t.valorEficiencia,rango1:t.rango1,valorEficiencia2:t.valorEficiencia2,rango2:t.rango2,inicialGrafico2:t.inicialGrafico2,finalGrafico2:t.finalGrafico2,inicialGrafico3:t.inicialGrafico3,finalGrafico3:t.finalGrafico3,tituloImpresion:t.titulo}})],1)]),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.imprimir}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-file-pdf ")]),t._v(" Generar PDF")],1),a("v-btn",{attrs:{outlined:"",color:"error"},on:{click:function(t){e.value=!1}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close-circle ")]),t._v(" Cerrar")],1)],1)],1)]}}])})],1)],1)]],2),a("br"),t._v(" "+t._s(t.actualizar)+" ")]],2)},Te=[],Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"ma-0 pa-0"},[t.reporte?a("v-card-title",{staticClass:"graficas white--text caption px-2 py-1"},[a("span",{domProps:{innerHTML:t._s(t.titulo)}})]):t._e(),a("v-card-text",{staticClass:"pa-2"},[a("table",{staticStyle:{width:"100%","font-size":"10px"}},t._l(t.rangos,(function(e,i){return a("tr",{key:i},[a("td",{staticStyle:{width:"60%"}},[a("div",{style:t.grafica[i][1]},[t._v(" "+t._s(t.grafica[i][0])+" ")])]),a("td",{staticStyle:{width:"30%"}},[t._v(t._s(e[0])+" - "+t._s(e[1]))]),a("td",{staticStyle:{width:"10%"}},[t.mostrarGrafico(e[0],e[1])?a("v-btn",{attrs:{color:"primary","x-small":"",dark:""}},[t._v(" "+t._s(t.valor)+" ")]):t._e()],1)])})),0)])],1)],1)},Re=[],De={name:"GraficoEficiencia",props:{rangos:{type:Array},valor:{type:Number},titulo:{type:String},reporte:{type:Boolean,default:!0}},data:function(){return{grafica:[["A","width:30%;height: 30px;background-color:#3D7D56;color:#fff;padding-top: 2px; padding-left: 5px;"],["B","width:40%;height: 30px;background-color:#39B24F;color:#fff;padding-top: 2px; padding-left: 5px;"],["C","width:50%;height: 30px;background-color:#B4D333;color:#fff;padding-top: 2px; padding-left: 5px;"],["D","width:60%;height: 30px;background-color:#F7E600;color:#fff;padding-top: 2px; padding-left: 5px;"],["E","width:70%;height: 30px;background-color:#FBB41B;color:#fff;padding-top: 2px; padding-left: 5px;"],["F","width:80%;height: 30px;background-color:#EE7A26;color:#fff;padding-top: 2px; padding-left: 5px;"],["G","width:90%;height: 30px;background-color:#EA1C25;color:#fff;padding-top: 2px; padding-left: 5px;"]]}},methods:{mostrarGrafico:function(t,e){return e>=this.valor&&t<=this.valor}}},Me=De,Fe=Object(_["a"])(Me,Ae,Re,!1,null,null,null),je=Fe.exports;h()(Fe,{VBtn:ot["a"],VCard:N["a"],VCardText:J["b"],VCardTitle:J["c"]});var Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("div",{staticStyle:{"padding-top":"20px","padding-bottom":"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" "+t._s(t.tituloImpresion)+" ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v(" 4. Superficie construida ")])]),a("v-col",{attrs:{cols:"12"}},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Gráfico de desempeño energético en función a la emisión específica de CO"),a("sub",[t._v("2")]),t._v(" por superficie en metros cuadrados [kg"),a("sub",[t._v("eq")]),t._v(" CO"),a("sub",[t._v("2")]),t._v("/m"),a("sup",[t._v("2")]),t._v("] ")])]),a("v-col",{attrs:{cols:"6"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Gráfico de desempeño energético en función al consumo específico de energía eléctrica por superficie cuadrada [kWh/m"),a("sup",[t._v("2")]),t._v("] ")])]),a("v-col",{attrs:{cols:"6"}},[a("GraficoEficiencia",{attrs:{titulo:"Gráfico de desempeño energético en función a la emisión específica de CO<sub>2</sub> por superficie en metros cuadrados [kg<sub>eq</sub> CO<sub>2</sub>/m<sup>2</sup>]",valor:t.valorEficiencia,rangos:t.rango1,reporte:!1}})],1),a("v-col",{attrs:{cols:"6"}},[a("GraficoEficiencia",{attrs:{titulo:"Gráfico de desempeño energético en función al consumo específico de energía eléctrica por superficie cuadrada [kWh/m<sup>2</sup>]",valor:t.valorEficiencia2,rangos:t.rango2,reporte:!1}})],1)],1),a("div",{staticClass:"html2pdf__page-break"}),a("div",{staticStyle:{"padding-top":"20px","padding-bottom":"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" VARIABLES E INDICADORES COMPARATIVOS HISTÓRICOS ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Curva comparativa - consumos específicos promedio de energía eléctrica por superficie construida ")])]),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico2,final:t.finalGrafico2,titulo:"Curva comparativa - consumos específicos promedio de energía eléctrica por superficie construida",tituloGrafico:"Consumo específico promedio mensual",tituloX:"Mes - Gestión",tituloY:"kWh/m2 (Promedio)",reporte:!1}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Variación porcentual - consumos específicos promedio de energía eléctrica por superficie construida ")])]),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico3,final:t.finalGrafico3,titulo:"Variación porcentual - consumos específicos promedio de energía eléctrica por superficie construida",tituloGrafico:"Variación porcentual mensual",tituloX:"Mes - Gestión",tituloY:"Porcentaje",reporte:!1}})],1)],1)],1)],1)},Le=[],$e={name:"ReporteIndicador3",components:{GraficoTabla:Ut,BarMultiVertical:Rt,LineGraph:Lt,GraficoEficiencia:je},props:{cabecera:{type:Array},totales:{type:Object},valorEficiencia:{type:Array},rango1:{type:Array},valorEficiencia2:{type:Array},rango2:{type:Array},inicialGrafico2:{type:Array},finalGrafico2:{type:Array},inicialGrafico3:{type:Array},finalGrafico3:{type:Array},tituloImpresion:{type:String}}},Be=$e,Pe=Object(_["a"])(Be,Ne,Le,!1,null,null,null),ze=Pe.exports;h()(Pe,{VCol:ct["a"],VContainer:Xt["a"],VRow:dt["a"]});var qe={components:{BarMultiVertical:Rt,LineGraph:Lt,GraficoEficiencia:je,GraficoTabla:Ut,ReporteIndicador4:ze},name:"Indicador4",props:{pglobal:{type:Array},pseleccion:{type:Array}},data:function(){return{rango1:[[0,.42],[.43,.72],[.73,1.14],[1.15,1.78],[1.79,2.96],[2.97,5.76],[5.77,9999]],rango2:[[0,.46],[.47,.79],[.8,1.28],[1.29,1.99],[2,3.27],[3.28,6.24],[6.25,9999]],valorEficiencia:0,valorEficiencia2:0,finalGrafico2:[],inicialGrafico2:[],finalGrafico3:[],inicialGrafico3:[],totales:{},global:{},seleccion:{},titulo:"",cabecera:["Variables/Indicadores","Promedios globales","Promedios según filtro","% de variación según filtro"]}},created:function(){this.calcularGraficas(),this.titulo=c["a"].state.titulo,this.global=this.calcularTabla(this.pglobal),this.seleccion=this.calcularTabla(this.pseleccion),this.totales=this.tablaIndicadores(),this.valorEficiencia=this.seleccion.avg_indice_emision_co2_m2,this.valorEficiencia2=this.seleccion.avg_indice_consumo_mes_m2},methods:{imprimir:function(){te()(this.$refs.documento1,{margin:0,filename:"consumoee.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"landscape"}})},tablaIndicadores:function(){var t={};return t[0]={texto:"Superficie construida total en infraestructuras [m<sup>2</sup>]",promedio:this.global.m2_construidos,seleccion:this.seleccion.m2_construidos,porcentaje:Math.round(this.seleccion.m2_construidos/this.global.m2_construidos*1e4)/100},t[1]={texto:"Superficie construida promedio por infraestructura [m<sup>2</sup>]",promedio:this.global.avg_m2_construidos,seleccion:this.seleccion.avg_m2_construidos,porcentaje:Math.round(1e4*(this.seleccion.avg_m2_construidos/this.global.avg_m2_construidos-1))/100},t[2]={texto:"Consumo específico energía eléctrica por superficie construida [kWh/m<sup>2</sup>]",promedio:this.global.avg_indice_consumo_mes_m2,seleccion:this.seleccion.avg_indice_consumo_mes_m2,porcentaje:Math.round(1e4*(this.seleccion.avg_indice_consumo_mes_m2/this.global.avg_indice_consumo_mes_m2-1))/100},t[3]={texto:"Emisión específica de CO<sub>2</sub> por superficie construida [kg<sub>eq</sub>CO<sub>2</sub>/m<sup>2</sup>]",promedio:this.global.avg_indice_emision_co2_m2,seleccion:this.seleccion.avg_indice_emision_co2_m2,porcentaje:Math.round(1e4*(this.seleccion.avg_indice_emision_co2_m2/this.global.avg_indice_emision_co2_m2-1))/100},t[4]={texto:"Importe específico energía eléctrica por superficie construida [Bs/m<sup>2</sup>]",promedio:this.global.avg_indice_consumo_bs_m2,seleccion:this.seleccion.avg_indice_consumo_bs_m2,porcentaje:Math.round(1e4*(this.seleccion.avg_indice_consumo_bs_m2/this.global.avg_indice_consumo_bs_m2-1))/100},t},calcularTabla:function(t){return{m2_construidos:Math.round(t.reduce((function(t,e){return t+parseFloat(e.m2_construidos)}),0)/t.length*100)/100,avg_m2_construidos:Math.round(t.reduce((function(t,e){return t+parseFloat(e.avg_m2_construidos)}),0)/t.length*100)/100,avg_indice_consumo_mes_m2:Math.round(t.reduce((function(t,e){return t+parseFloat(e.avg_indice_consumo_mes_m2)}),0)/t.length*100)/100,avg_indice_emision_co2_m2:Math.round(t.reduce((function(t,e){return t+parseFloat(e.avg_indice_emision_co2_m2)}),0)/t.length*100)/100,avg_indice_consumo_bs_m2:Math.round(t.reduce((function(t,e){return t+parseFloat(e.avg_indice_consumo_bs_m2)}),0)/t.length*100)/100}},calcularGraficas:function(){var t=this;this.inicialGrafico2=this.pglobal.map((function(t){var e={};return e.serie1=parseFloat(t.avg_indice_consumo_mes_m2),e.categoria=t.abr_mes+"-"+t.gestion,e})),this.finalGrafico2=this.pseleccion.map((function(t){var e={};return e.serie2=parseFloat(t.avg_indice_consumo_mes_m2),e})),this.inicialGrafico3=[],this.inicialGrafico2.forEach((function(e,a,i){var r;0==a?t.inicialGrafico3.push({serie1:0,categoria:e.categoria}):(r=100*(parseFloat(t.inicialGrafico2[a].serie1)/parseFloat(t.inicialGrafico2[a-1].serie1)-1),t.inicialGrafico3.push({serie1:Math.round(100*r)/100,categoria:e.categoria}))})),this.finalGrafico3=[],this.finalGrafico2.forEach((function(e,a,i){var r;0==a?t.finalGrafico3.push({serie2:0}):(r=100*(parseFloat(t.finalGrafico2[a].serie2)/parseFloat(t.finalGrafico2[a-1].serie2)-1),t.finalGrafico3.push({serie2:Math.round(100*r)/100}))}))},mostrarGrafico:function(t,e){return e>=this.valorEficiencia&&t<=this.valorEficiencia}},computed:{actualizar:function(){this.calcularGraficas(),this.global=this.calcularTabla(this.pglobal),this.seleccion=this.calcularTabla(this.pseleccion),this.totales=this.tablaIndicadores(),this.valorEficiencia=this.seleccion.avg_indice_emision_co2_m2,this.valorEficiencia2=this.seleccion.avg_indice_consumo_mes_m2}}},Ue=qe,Ye=Object(_["a"])(Ue,Ve,Te,!1,null,null,null),He=Ye.exports;h()(Ye,{VBtn:ot["a"],VCard:N["a"],VCardActions:J["a"],VCardText:J["b"],VCol:ct["a"],VDialog:ie["a"],VIcon:x["a"],VRow:dt["a"]});var We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("v-row",{staticClass:"px-5"},[a("v-card",{staticClass:"barracolor mb-5",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between py-2"},[t._v(" 5. PERSONAL Y VISITANTES ")])],1),a("v-row",[a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" La información disponible de esta sección corresponde a la cantidad de funcionarios que trabajan en las infraestructuras y de los visitantes que se reciben. En la columna “Promedios globales”, se encuentran los datos de las variables e indicadores energéticos: [kWh/p+v], [kg"),a("sub",[t._v("eq")]),t._v(" CO"),a("sub",[t._v("2")]),t._v("/p+v] y [Bs/p+v], del total de infraestructuras. En la columna “Promedios según filtro”, se encuentran los datos de las variables e indicadores energéticos en función a los filtros seleccionados según ciudad, dependencia y/o mes, y, finalmente el “% de variación según filtro” presenta la variación de la selección filtrada respecto al total. Las fórmulas utilizadas se detallan en el manual de usuario. ")])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-text",{staticClass:"py-2 caption black--text"},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("GraficoEficiencia",{attrs:{titulo:"Gráfico de desempeño energético en función al consumo específico de energía eléctrica por persona [kWh/p+v]",valor:t.valorEficiencia2,rangos:t.rango2}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico muestra la ubicación que tiene la selección filtrada en base a una escala promedio de desempeño energético en términos de consumo de energía por persona (funcionarios + visitantes), [kWh/p+v]. La escala está elaborada con los datos de todas las infraestructuras registradas. ")])],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("GraficoEficiencia",{attrs:{titulo:"Gráfico de desempeño energético en función a la emisión específica de CO<sub>2</sub> por persona [kg<sub>eq</sub>CO<sub>2</sub>/p+v]",valor:t.valorEficiencia,rangos:t.rango1}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico muestra la ubicación que tiene la selección filtrada en base a una escala promedio de desempeño energético en términos de emisiones de CO"),a("sub",[t._v("2")]),t._v(" por persona (funcionarios + visitantes), [kg"),a("sub",[t._v("eq")]),t._v(" CO"),a("sub",[t._v("2")]),t._v("/p+v]. La escala está elaborada con los datos de todas las infraestructuras registradas. ")])],1),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico2,final:t.finalGrafico2,titulo:"Curva comparativa - consumos específicos promedio de energía eléctrica por persona",tituloGrafico:"Consumo específico promedio mensual",tituloX:"Mes - Gestión",tituloY:"kWh/p+v (Promedio)"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de líneas muestra el comportamiento del indicador de consumo de energía por persona (funcionarios + visitantes) promedio mensual, del total de las infraestructuras (global), y, de la selección realizada. ")])],1),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico3,final:t.finalGrafico3,titulo:"Variación porcentual - consumos específicos promedio de energía eléctrica por persona",tituloGrafico:"Variación porcentual mensual",tituloX:"Mes - Gestión",tituloY:"Porcentaje"}}),a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" El gráfico de líneas muestra el incremento o decremento de los promedios del indicador de consumo de energía por persona (funcionarios + visitantes) para el total de las infraestructuras (global), y, de la selección realizada. ")])],1)],1),[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-dialog",{attrs:{transition:"dialog-bottom-transition",scrollable:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"px-6",attrs:{small:"",color:"primary"}},"v-btn",r,!1),i),[t._v("Reporte")])]}},{key:"default",fn:function(e){return[a("v-card",[a("v-card-text",[a("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],ref:"documento1",staticStyle:{width:"1050px"}},[a("ReporteIndicador5",{attrs:{totales:t.totales,cabecera:t.cabecera,valorEficiencia:t.valorEficiencia,rango1:t.rango1,valorEficiencia2:t.valorEficiencia2,rango2:t.rango2,inicialGrafico2:t.inicialGrafico2,finalGrafico2:t.finalGrafico2,inicialGrafico3:t.inicialGrafico3,finalGrafico3:t.finalGrafico3,tituloImpresion:t.titulo}})],1)]),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.imprimir}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-file-pdf ")]),t._v(" Generar PDF")],1),a("v-btn",{attrs:{outlined:"",color:"error"},on:{click:function(t){e.value=!1}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close-circle ")]),t._v(" Cerrar")],1)],1)],1)]}}])})],1)],1)]],2),a("br"),t._v(" "+t._s(t.actualizar)+" ")]],2)},Je=[],Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("div",{staticStyle:{"padding-top":"20px","padding-bottom":"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" "+t._s(t.tituloImpresion)+" ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700"}},[t._v(" 5. Personal y Visitantes ")])]),a("v-col",{attrs:{cols:"12"}},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Gráfico de desempeño energético en función al consumo específico de energía eléctrica por persona [kWh/p+v] ")])]),a("v-col",{attrs:{cols:"6"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Gráfico de desempeño energético en función a la emisión específica de CO"),a("sub",[t._v("2")]),t._v(" por persona[kg"),a("sub",[t._v("eq")]),t._v("CO"),a("sub",[t._v("2")]),t._v("/p+v] ")])]),a("v-col",{attrs:{cols:"6"}},[a("GraficoEficiencia",{attrs:{titulo:"Gráfico de desempeño energético en función al consumo específico de energía eléctrica por superficie cuadrada [kWh/m<sup>2</sup>]",valor:t.valorEficiencia2,rangos:t.rango2,reporte:!1}})],1),a("v-col",{attrs:{cols:"6"}},[a("GraficoEficiencia",{attrs:{titulo:"Gráfico de desempeño energético en función a la emisión específica de CO<sub>2</sub> por superficie en metros cuadrados [kg<sub>eq</sub> CO<sub>2</sub>/m<sup>2</sup>]",valor:t.valorEficiencia,rangos:t.rango1,reporte:!1}})],1)],1),a("div",{staticClass:"html2pdf__page-break"}),a("div",{staticStyle:{"padding-top":"20px","padding-bottom":"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" VARIABLES E INDICADORES COMPARATIVOS HISTÓRICOS ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Curva comparativa - consumos específicos promedio de energía eléctrica por persona ")])]),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico2,final:t.finalGrafico2,titulo:"Curva comparativa - consumos específicos promedio de energía eléctrica por superficie construida",tituloGrafico:"Consumo específico promedio mensual",tituloX:"Mes - Gestión",tituloY:"kWh/m2 (Promedio)",reporte:!1}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-left":"20px"}},[t._v(" Variación porcentual - consumos específicos promedio de energía eléctrica por persona ")])]),a("v-col",{attrs:{cols:"12"}},[a("LineGraph",{attrs:{inicial:t.inicialGrafico3,final:t.finalGrafico3,titulo:"Variación porcentual - consumos específicos promedio de energía eléctrica por superficie construida",tituloGrafico:"Variación porcentual mensual",tituloX:"Mes - Gestión",tituloY:"Porcentaje",reporte:!1}})],1)],1)],1)],1)},Ke=[],Ze={name:"ReporteIndicador3",components:{GraficoTabla:Ut,BarMultiVertical:Rt,LineGraph:Lt,GraficoEficiencia:je},props:{cabecera:{type:Array},totales:{type:Object},valorEficiencia:{type:Array},rango1:{type:Array},valorEficiencia2:{type:Array},rango2:{type:Array},inicialGrafico2:{type:Array},finalGrafico2:{type:Array},inicialGrafico3:{type:Array},finalGrafico3:{type:Array},tituloImpresion:{type:String}}},Qe=Ze,ta=Object(_["a"])(Qe,Xe,Ke,!1,null,null,null),ea=ta.exports;h()(ta,{VCol:ct["a"],VContainer:Xt["a"],VRow:dt["a"]});var aa={components:{BarMultiVertical:Rt,LineGraph:Lt,GraficoEficiencia:je,GraficoTabla:Ut,ReporteIndicador5:ea},name:"Indicador5",props:{pglobal:{type:Array},pseleccion:{type:Array}},data:function(){return{valorEficiencia:0,valorEficiencia2:0,rango1:[[0,1.15],[1.16,2.22],[2.23,4.15],[4.16,7.87],[7.88,15.53],[15.54,33.14],[33.15,9999]],rango2:[[0,1.36],[1.37,2.56],[2.57,4.73],[4.74,8.62],[8.63,16.98],[16.99,35.92],[35.93,9999]],finalGrafico2:[],inicialGrafico2:[],finalGrafico3:[],inicialGrafico3:[],totales:{},global:{},seleccion:{},titulo:"",cabecera:["Variables/Indicadores","Promedios globales","Promedios según filtro","% de variación según filtro"]}},created:function(){this.calcularGraficas(),this.titulo=c["a"].state.titulo,this.global=this.calcularTabla(this.pglobal),this.seleccion=this.calcularTabla(this.pseleccion),this.totales=this.tablaIndicadores(),this.valorEficiencia=this.seleccion.avg_indice_emision_co2_persona,this.valorEficiencia2=this.seleccion.avg_indice_consumo_persona},methods:{imprimir:function(){te()(this.$refs.documento1,{margin:0,filename:"consumoee.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"landscape"}})},tablaIndicadores:function(){var t={};return t[0]={texto:"Personal y visitantes en infraestructuras [p+v]",promedio:this.global.personas,seleccion:this.seleccion.personas,porcentaje:Math.round(this.seleccion.personas/this.global.personas*1e4)/100},t[1]={texto:"Personal y visitantes promedio por infraestructura [p+v/día]",promedio:this.global.avg_personas,seleccion:this.seleccion.avg_personas,porcentaje:Math.round(1e4*(this.seleccion.avg_personas/this.global.avg_personas-1))/100},t[2]={texto:"Consumo específico energía eléctrica por persona [kWh/p+v]",promedio:this.global.avg_indice_consumo_persona,seleccion:this.seleccion.avg_indice_consumo_persona,porcentaje:Math.round(1e4*(this.seleccion.avg_indice_consumo_persona/this.global.avg_indice_consumo_persona-1))/100},t[3]={texto:"Emisión específica de CO<sub>2</sub> por persona [kg<sub>eq</sub>CO<sub>2</sub>/p+v]",promedio:this.global.avg_indice_emision_co2_persona,seleccion:this.seleccion.avg_indice_emision_co2_persona,porcentaje:Math.round(1e4*(this.seleccion.avg_indice_emision_co2_persona/this.global.avg_indice_emision_co2_persona-1))/100},t[4]={texto:"Importe específico energía eléctrica por persona [Bs/p+v]",promedio:this.global.indice_consumo_bs_persona,seleccion:this.seleccion.indice_consumo_bs_persona,porcentaje:Math.round(1e4*(this.seleccion.indice_consumo_bs_persona/this.global.indice_consumo_bs_persona-1))/100},t},calcularTabla:function(t){return{personas:Math.round(t.reduce((function(t,e){return t+parseFloat(e.personas)}),0)/t.length*100)/100,avg_personas:Math.round(t.reduce((function(t,e){return t+parseFloat(e.avg_personas)}),0)/t.length*100)/100,avg_indice_consumo_persona:Math.round(t.reduce((function(t,e){return t+parseFloat(e.avg_indice_consumo_persona)}),0)/t.length*100)/100,avg_indice_emision_co2_persona:Math.round(t.reduce((function(t,e){return t+parseFloat(e.avg_indice_emision_co2_persona)}),0)/t.length*100)/100,indice_consumo_bs_persona:Math.round(t.reduce((function(t,e){return t+parseFloat(e.indice_consumo_bs_persona)}),0)/t.length*100)/100}},calcularGraficas:function(){var t=this;this.inicialGrafico2=this.pglobal.map((function(t){var e={};return e.serie1=parseFloat(t.avg_indice_consumo_persona),e.categoria=t.abr_mes+"-"+t.gestion,e})),this.finalGrafico2=this.pseleccion.map((function(t){var e={};return e.serie2=parseFloat(t.avg_indice_consumo_persona),e})),this.inicialGrafico3=[],this.inicialGrafico2.forEach((function(e,a,i){var r;0==a?t.inicialGrafico3.push({serie1:0,categoria:e.categoria}):(r=100*(parseFloat(t.inicialGrafico2[a].serie1)/parseFloat(t.inicialGrafico2[a-1].serie1)-1),t.inicialGrafico3.push({serie1:Math.round(100*r)/100,categoria:e.categoria}))})),this.finalGrafico3=[],this.finalGrafico2.forEach((function(e,a,i){var r;0==a?t.finalGrafico3.push({serie2:0}):(r=100*(parseFloat(t.finalGrafico2[a].serie2)/parseFloat(t.finalGrafico2[a-1].serie2)-1),t.finalGrafico3.push({serie2:Math.round(100*r)/100}))}))},mostrarGrafico:function(t,e){return e>=this.valorEficiencia&&t<=this.valorEficiencia}},computed:{actualizar:function(){this.calcularGraficas(),this.global=this.calcularTabla(this.pglobal),this.seleccion=this.calcularTabla(this.pseleccion),this.totales=this.tablaIndicadores(),this.valorEficiencia=this.seleccion.avg_indice_emision_co2_persona,this.valorEficiencia2=this.seleccion.avg_indice_consumo_persona}}},ia=aa,ra=Object(_["a"])(ia,We,Je,!1,null,null,null),oa=ra.exports;h()(ra,{VBtn:ot["a"],VCard:N["a"],VCardActions:J["a"],VCardText:J["b"],VCol:ct["a"],VDialog:ie["a"],VIcon:x["a"],VRow:dt["a"]});var na={components:{FiltroHistorico:wt,Indicador1:oe,Indicador2:be,Indicador3:ke,Indicador4:He,Indicador5:oa,Cabecera:Gt["a"]},name:"Historico",data:function(){return{actualizar:!0,componente:"Indicador1",selectMesInicio:null,mesesInicio:[],selectGestionInicio:null,gestionesInicio:[],selectMesFin:null,mesesFin:[],selectGestionFin:null,gestionesFin:[],selectCiudad:[],selectDependencia:[],global:[],seleccion:[],result:{},param:{}}},created:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),t.$store.commit("SET_TITULO","HISTÓRICO (variables/indicadores comparativos)"),e.next=4,_t.a.get("/api/filtroshistoricos");case 4:a=e.sent,t.result=a.data,t.global=t.result.data.global,t.seleccion=t.result.data.seleccion,t.selectCiudad=t.result.data.ciudad,t.selectDependencia=t.result.data.dependencia,t.selectMesInicio={desc_mes:t.result.data.meses[0].desc_mes,mes:t.result.data.meses[0].mes},t.mesesInicio=t.result.data.meses,t.selectGestionInicio=t.result.data.gestiones[0],t.gestionesInicio=t.result.data.gestiones,t.selectMesFin={desc_mes:t.result.data.meses[t.result.data.meses.length-1].desc_mes,mes:t.result.data.meses[t.result.data.meses.length-1].mes},t.mesesFin=t.result.data.meses,t.selectGestionFin=t.result.data.gestiones[0],t.gestionesFin=t.result.data.gestiones,t.$store.commit("SET_LOADING",!1);case 19:case"end":return e.stop()}}),e)})))()},computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])(["loading"])),{},{currentProperties:function(){return{pglobal:this.global,pseleccion:this.seleccion}}}),methods:{actualizarDatos:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.actualizar=!1,a={selectCiudad:t.selectCiudad,selectDependencia:t.selectDependencia,gestioninicio:t.selectGestionInicio,mesinicio:t.selectMesInicio.mes,gestionfin:t.selectGestionFin,mesfin:t.selectMesFin.mes},e.next=4,_t.a.post("/api/filtroshactualizar",a);case 4:i=e.sent,t.result=i.data,t.global=t.result.data.global,t.seleccion=t.result.data.seleccion,t.actualizar=!0;case 9:case"end":return e.stop()}}),e)})))()},cambiarIndicador:function(t){this.componente=t},onCiudad:function(t){this.selectCiudad=t,this.actualizarDatos()},onDependencia:function(t){this.selectDependencia=t,this.actualizarDatos()},onMesInicio:function(t){this.selectMesInicio=t,this.actualizarDatos()},onGestionInicio:function(t){this.selectGestionInicio=t,this.actualizarDatos()},onMesFin:function(t){this.selectMesFin=t,this.actualizarDatos()},onGestionFin:function(t){this.selectGestionFin=t,this.actualizarDatos()}}},sa=na,ca=a("8e36"),la=Object(_["a"])(sa,mt,ft,!1,null,null,null),da=la.exports;h()(la,{VBtn:ot["a"],VCard:N["a"],VCardText:J["b"],VCol:ct["a"],VContainer:Xt["a"],VProgressLinear:ca["a"],VRow:dt["a"]});var ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard mb-10"},[t.loading?t._e():[a("Cabecera",{attrs:{titulo:"INFORMACIÓN PÚBLICA",iconoTitulo:"mdi-monitor-dashboard",subtitulo:t.mes+" - "+t.gestion,iconoSubtitulo:"mdi-calendar-month",color:"primary"}}),a("v-container",{attrs:{fluid:""}},[a("CardDato",{attrs:{dato:t.result.data.resumen}}),a("v-row",[a("v-col",{staticClass:"caption",attrs:{cols:"12"}},[t._v(" El Sistema de Registro, Monitoreo, Reporte y Verificación (RMRV), es una plataforma en línea que tiene el propósito de brindar una fuente de información, de actualización mensual, sobre el desempeño energético y medioambiental de infraestructuras públicas."),a("br"),a("br"),t._v(" En este módulo, usted puede filtrar la información de las infraestructuras por ciudad o dependencia, y obtendrá la visualización de datos generales según la selección efectuada para el último mes disponible, (ver mes en la esquina superior derecha). ")])],1),a("v-card",{staticClass:"barracolor",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between my-2 py-2"},[t._v(" FILTROS APLICABLES ")])],1),a("FiltroDashboard",{attrs:{datos:t.result},on:{on_ciudad:t.onCiudad,on_dependencia:t.onDependencia}}),t.actualizar?[a("v-row",{staticClass:"px-2"},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("DataTable",{attrs:{param:t.datosCiudades,titulo:"Cantidad de infraestructuras",alto:160}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("BarVertical",{attrs:{datos:t.datosCiudades,titulo:"Cantidad de infraestructuras",alto:145}})],1)],1),a("v-row",{staticClass:"px-2"},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("DataTable",{attrs:{param:t.datosDependencia,titulo:"Cantidad de infraestructuras por dependencia",alto:415}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("BarHorizontal",{attrs:{datos:t.datosDependencia,titulo:"Cantidad de infraestructuras por dependencia",alto:400}})],1)],1),a("v-card",{staticClass:"barracolor",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between my-2 py-2"},[t._v(" VARIABLES E INDICADORES GLOBALES (comparativos según selección) ")])],1),a("v-row",[a("v-col",{staticClass:"caption",attrs:{cols:"12"}},[t._v(" Es esta sección se presentan las variables e indicadores energéticos de las infraestructuras registradas. Las variables corresponden a datos recabados de cada infraestructura y están relacionados con el consumo y costos de energía, cantidad de funcionarios y visitantes, superficie construida, entre otros. Los indicadores utilizados son: [kWh/m"),a("sup",[t._v("2")]),t._v("], [kWh/p+v]. La sección permite realizar un sistema comparativo entre el promedio del total de infraestructuras públicas registradas versus el filtro (ciudad y/o dependencia) de las infraestructuras seleccionadas. ")])],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-text",{staticClass:"py-2 caption black--text"},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1)],1)],1)],1),a("v-card",{staticClass:"barracolor",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between my-2 py-2"},[t._v(" CARACTERÍSTICAS PRINCIPALES (de las estructuras seleccionadas) ")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("Pie",{attrs:{datos:t.datosJerarquia,titulo:"Jerarquía de las infraestructuras"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("BarHorizontal",{attrs:{datos:t.datosTipoInfraestructura,titulo:"Tipo de edificación"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("BarVertical",{attrs:{datos:t.datosUso,titulo:"Uso de las infraestructuras"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("BarVertical",{attrs:{datos:t.datosPropiedad,titulo:"Tipo de propiedad de la infraestructura"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("BarVertical",{attrs:{datos:t.datosConstruccion,titulo:"Año de construcción del bloque principal"}})],1)],1),[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-dialog",{attrs:{transition:"dialog-bottom-transition",scrollable:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"px-6",attrs:{small:"",color:"primary"}},"v-btn",r,!1),i),[t._v("Reporte")])]}},{key:"default",fn:function(e){return[a("v-card",[a("v-card-text",[a("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],ref:"documento1",staticStyle:{width:"1050px"}},[a("ReporteDashboard",{attrs:{datosPropiedad:t.datosPropiedad,datosConstruccion:t.datosConstruccion,datosJerarquia:t.datosJerarquia,datosTipoInfraestructura:t.datosTipoInfraestructura,totales:t.totales,datosUso:t.datosUso,datosDependencia:t.datosDependencia,datosCiudades:t.datosCiudades,fecha:t.mes+" - "+t.gestion}})],1)]),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.imprimir}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-file-pdf ")]),t._v(" Generar PDF")],1),a("v-btn",{attrs:{outlined:"",color:"error"},on:{click:function(t){e.value=!1}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close-circle ")]),t._v(" Cerrar")],1)],1)],1)]}}],null,!1,1072203137)})],1)],1)]]:[a("v-container",{staticClass:"mt-10",attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{align:"center"}},[a("v-card",{attrs:{color:"primary",dark:"",width:"200"}},[a("v-card-text",[t._v(" Actualizando...... "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)]],2)]],2)},pa=[],ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",t._l(t.datos,(function(e){return a("v-col",{key:e.id,attrs:{cols:"6",md:"3"}},[a("v-card",{attrs:{outlined:"",elevation:"2",height:"100%"}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{staticClass:"pa-0 mx-0 text-center",attrs:{cols:"12",md:"2"}},[a("v-icon",{attrs:{size:"50",color:"iconocolor"}},[t._v(" "+t._s(e.icono)+" ")])],1),a("v-col",{staticClass:"textocolor--text subtitle-2 flex text-center font-weight-bold py-0 center",attrs:{cols:"12",md:"10"}},[a("p",{domProps:{innerHTML:t._s(e.titulo)}}),a("p",{staticClass:"pa-0 ma-0",domProps:{innerHTML:t._s(e.valor)}})])],1)],1)],1)],1)],1)],1)})),1)],1)},fa=[],va={name:"CardDato",props:{dato:{type:Array}},data:function(){return{datos:[{id:1,color:"deep-orange darken-4",icono:"mdi-city",valor:"0",titulo:"Cantidad de infraestructuras públicas"},{id:2,color:"deep-orange darken-4",icono:"mdi-timeline-clock",valor:"0",titulo:"Consumo de energía eléctrica Facturada [kWh]"},{id:3,color:"deep-orange darken-4",icono:"mdi-connection",valor:"0",titulo:"Consumo de energía primaria [kWh]"},{id:4,color:"deep-orange darken-4",icono:"mdi-cloud",valor:"0",titulo:"Emisiones de CO<sub>2</sub> [t<sub>eq</sub>]"},{id:5,color:"deep-orange darken-4",icono:"mdi-currency-usd",valor:"0",titulo:"Importe de Energía Eléctrica [Bs]"},{id:6,color:"deep-orange darken-4",icono:"mdi-hammer-screwdriver",valor:"0",titulo:"Superficie construida [m<sup>2</sup>]"},{id:7,color:"deep-orange darken-4",icono:"mdi-account-supervisor",valor:"0",titulo:"Personal trabajando en infraestructuras públicas"},{id:8,color:"deep-orange darken-4",icono:"mdi-account-supervisor-circle",valor:"0",titulo:"Visitantes en infraestructuras públicas [personas/día]"}]}},mounted:function(){var t=new Intl.NumberFormat("en-US");this.datos[0].valor=t.format(this.dato[0].infraestructuras),this.datos[1].valor=t.format(Math.round(this.dato[0].kwh)),this.datos[2].valor=t.format(Math.round(this.dato[0].energia_primaria)),this.datos[3].valor=t.format(Math.round(this.dato[0].consumo_co2)),this.datos[4].valor=t.format(Math.round(this.dato[0].indice_consumo_bs)),this.datos[5].valor=t.format(Math.round(this.dato[0].m2_construidos)),this.datos[6].valor=t.format(Math.round(this.dato[0].personas)),this.datos[7].valor=t.format(Math.round(this.dato[0].visitantes))}},_a=va,ba=(a("2f60"),Object(_["a"])(_a,ma,fa,!1,null,null,null)),ha=ba.exports;h()(ba,{VCard:N["a"],VCardText:J["b"],VCol:ct["a"],VIcon:x["a"],VRow:dt["a"]});var ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"ma-0 pa-0"},[t.reporte?a("v-card-title",{staticClass:"graficas white--text caption px-2 py-1"},[t._v(" "+t._s(t.titulo)+" ")]):t._e(),a("v-card-text",{staticClass:"pa-2"},[a("apexchart",{attrs:{type:"bar",height:t.alto,options:t.chartOptions,series:t.series}})],1)],1),t._v(" "+t._s(t.dibujar)+" ")],1)},xa=[],Ca={name:"BarVertical",props:{datos:{type:Array},titulo:{type:String},alto:{type:Number,default:200},reporte:{type:Boolean,default:!0}},data:function(){return{series:[{name:"Infraestructura",data:this.datos.map((function(t){return t.categorias}))}],chartOptions:{chart:{type:"bar",toolbar:{show:!1},width:"100%"},plotOptions:{bar:{borderRadius:5,dataLabels:{position:"top"},distributed:!0}},legend:{show:!1},dataLabels:{enabled:!0,formatter:function(t){return t},offsetY:-20,style:{fontSize:"12px",colors:["#385F73"]}},xaxis:{categories:this.datos.map((function(t){return t.datos})),position:"bottom",labels:{style:{fontSize:this.datos.tamanio?this.datos.tamanio:"12px"}}},yaxis:{labels:{show:!0,formatter:function(t){return t}}}}}},computed:{dibujar:function(){this.series=[{name:"Infraestructura",data:this.datos.map((function(t){return t.categorias}))}],this.chartOptions={chart:{type:"bar",toolbar:{show:!1},width:"100%"},plotOptions:{bar:{borderRadius:5,dataLabels:{position:"top"},distributed:!0}},legend:{show:!1},dataLabels:{enabled:!0,formatter:function(t){return t},offsetY:-20,style:{fontSize:"12px",colors:["#385F73"]}},xaxis:{categories:this.datos.map((function(t){return t.datos})),position:"bottom",labels:{style:{fontSize:this.datos.tamanio?this.datos.tamanio:"12px"}}},yaxis:{labels:{show:!0,formatter:function(t){return t}}}}}}},ya=Ca,Ia=Object(_["a"])(ya,ga,xa,!1,null,null,null),wa=Ia.exports;h()(Ia,{VCard:N["a"],VCardText:J["b"],VCardTitle:J["c"]});var Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"ma-0 pa-0"},[t.reporte?a("v-card-title",{staticClass:"graficas white--text caption px-2 py-1"},[t._v(" "+t._s(t.titulo)+" ")]):t._e(),t.reporte?[a("v-card-text",{staticClass:"pa-2"},[a("v-simple-table",{attrs:{"fixed-header":"",height:t.alto,dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",{staticStyle:{"background-color":"#f00"}},[a("tr",[a("th",{staticClass:"text-left subtitle-2 font-weight-bold"},[t._v(" Descripción ")]),a("th",{staticClass:"text-left subtitle-2 font-weight-bold"},[t._v(" Cantidad ")])])]),a("tbody",t._l(t.param,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e["datos"]))]),a("td",[t._v(t._s(e["categorias"]))])])})),0)]},proxy:!0}],null,!1,2201812203)})],1)]:[a("table",{attrs:{id:"customers"}},[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Descripción")]),a("th",{staticStyle:{"text-align":"center"}},[t._v("Cantidad")])]),t._l(t.param,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e["datos"]))]),a("td",[t._v(t._s(e["categorias"]))])])}))],2)]],2)],1)},Ea=[],Sa={name:"DataTable",props:{param:{type:Array},titulo:{type:String},alto:{type:Number,default:200},reporte:{type:Boolean,default:!0}}},Oa=Sa,ka=(a("6224"),a("1f4f")),Va=Object(_["a"])(Oa,Ga,Ea,!1,null,null,null),Ta=Va.exports;h()(Va,{VCard:N["a"],VCardText:J["b"],VCardTitle:J["c"],VSimpleTable:ka["a"]});var Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[t.reporte?a("v-card-title",{staticClass:"graficas white--text caption px-2 py-1"},[t._v(" "+t._s(t.titulo)+" ")]):t._e(),a("v-card-text",{staticClass:"pa-2"},[a("div",{attrs:{id:"chart"}},[a("apexchart",{attrs:{type:"bar",height:t.alto,options:t.chartOptions,series:t.series}})],1)])],1),t._v(" "+t._s(t.dibujar)+" ")],1)},Ra=[],Da={name:"BarHorizontal",props:{datos:{type:Array},titulo:{type:String},alto:{type:Number,default:200},reporte:{type:Boolean,default:!0}},data:function(){return{series:[{name:"Infraestructura",data:this.datos.map((function(t){return t.categorias}))}],chartOptions:{chart:{type:"bar",toolbar:{show:!1},height:this.alto},plotOptions:{bar:{borderRadius:4,horizontal:!0,dataLabels:{position:"top"},distributed:!0}},legend:{show:!1},dataLabels:{enabled:!0,formatter:function(t){return t},offsetY:-20,style:{fontSize:"12px",colors:["#385F73"]}},xaxis:{categories:this.datos.map((function(t){return t.datos}))}}}},computed:{dibujar:function(){this.series=[{name:"Infraestructura",data:this.datos.map((function(t){return t.categorias}))}],this.chartOptions={chart:{type:"bar",toolbar:{show:!1},height:this.alto},plotOptions:{bar:{borderRadius:4,horizontal:!0,dataLabels:{position:"top"},distributed:!0}},legend:{show:!1},dataLabels:{enabled:!0,formatter:function(t){return t},offsetY:-20,style:{fontSize:"12px",colors:["#385F73"]}},xaxis:{categories:this.datos.map((function(t){return t.datos}))}}}}},Ma=Da,Fa=Object(_["a"])(Ma,Aa,Ra,!1,null,null,null),ja=Fa.exports;h()(Fa,{VCard:N["a"],VCardText:J["b"],VCardTitle:J["c"]});var Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[t.reporte?a("v-card-title",{staticClass:"graficas white--text caption px-2 py-1"},[t._v(" "+t._s(t.titulo)+" ")]):t._e(),a("v-card-text",{staticClass:"pa-2"},[a("div",{attrs:{id:"chart"}},[a("apexchart",{attrs:{type:"donut",height:t.alto,options:t.chartOptions,series:t.series}})],1)])],1),t._v(" "+t._s(t.dibujar)+" ")],1)},La=[],$a={name:"Pie",props:{datos:{type:Array},titulo:{type:String},alto:{type:Number,default:247},reporte:{type:Boolean,default:!0}},data:function(){return{series:this.datos.map((function(t){return parseInt(t.categorias)})),chartOptions:{chart:{type:"donut"},legend:{position:"bottom"},labels:this.datos.map((function(t){return t.datos})),responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}}},computed:{dibujar:function(){this.series=this.datos.map((function(t){return parseInt(t.categorias)})),this.chartOptions={chart:{type:"donut"},legend:{position:"bottom"},labels:this.datos.map((function(t){return t.datos})),responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}}}},Ba=$a,Pa=Object(_["a"])(Ba,Na,La,!1,null,null,null),za=Pa.exports;h()(Pa,{VCard:N["a"],VCardText:J["b"],VCardTitle:J["c"]});var qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{staticClass:"px-5",attrs:{align:"center"}},[a("v-col",{staticClass:"d-flex",attrs:{cols:"6"}},[a("v-select",{attrs:{items:t.ciudades,label:"Ciudades",multiple:""},on:{input:function(e){return t.onCiudad(e)}},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item,r=e.index;return[0===r?a("v-chip",[a("span",[t._v(t._s(i))])]):t._e(),1===r?a("span",{staticClass:"grey--text caption"},[t._v(" (+"+t._s(t.selectCiudad.length-1)+" otras) ")]):t._e()]}}]),model:{value:t.selectCiudad,callback:function(e){t.selectCiudad=e},expression:"selectCiudad"}})],1),a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"6"}},[a("v-select",{attrs:{items:t.dependencias,label:"Dependencias",multiple:""},on:{input:function(e){return t.onDependencia(e)}},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item,r=e.index;return[0===r?a("v-chip",[a("span",[t._v(t._s(i))])]):t._e(),1===r?a("span",{staticClass:"grey--text caption"},[t._v(" (+"+t._s(t.selectDependencia.length-1)+" otras) ")]):t._e()]}}]),model:{value:t.selectDependencia,callback:function(e){t.selectDependencia=e},expression:"selectDependencia"}})],1)],1)],1)},Ua=[],Ya={name:"FiltroHistorico",props:{datos:{type:Object}},data:function(){return{ciudades:null,selectCiudad:[],dependencias:null,selectDependencia:[]}},created:function(){this.ciudades=this.datos.data.ciudad,this.selectCiudad=this.datos.data.ciudad,this.dependencias=this.datos.data.dependencia,this.selectDependencia=this.datos.data.dependencia},methods:{onDependencia:function(t){this.$emit("on_dependencia",this.selectDependencia)},onCiudad:function(t){this.$emit("on_ciudad",this.selectCiudad)}}},Ha=Ya,Wa=Object(_["a"])(Ha,qa,Ua,!1,null,null,null),Ja=Wa.exports;h()(Wa,{VChip:Ct["a"],VCol:ct["a"],VRow:dt["a"],VSelect:yt["a"]});var Xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("div",{staticStyle:{padding:"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" SISTEMA DE MONITOREO DE INDICADORES "),a("br"),t._v(" DE CONSUMO ENERGÉTICO EN INFRAESTRUCTURAS PÚBLICAS "),a("br"),t._v(" "+t._s(t.fecha)+" ")]),a("div",{staticStyle:{padding:"0px 20px",width:"100%"}},[a("div",{staticStyle:{"font-size":"20px","font-weight":"700"}},[t._v(" Cantidad de infraestructuras por ciudad ")]),a("div",{staticStyle:{"padding-top":"10px"}},[a("DataTable",{attrs:{param:t.datosCiudades,titulo:"Cantidad de infraestructuras por ciudad",alto:160,reporte:!1}})],1),a("div",{staticStyle:{"padding-top":"30px"}},[a("BarVertical",{attrs:{datos:t.datosCiudades,titulo:"Cantidad de infraestructuras por ciudad",alto:250,reporte:!1}})],1)]),a("div",{staticClass:"html2pdf__page-break"}),a("div",{staticStyle:{padding:"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" SISTEMA DE MONITOREO DE INDICADORES "),a("br"),t._v(" DE CONSUMO ENERGÉTICO EN INFRAESTRUCTURAS PÚBLICAS "),a("br"),t._v(" "+t._s(t.fecha)+" ")]),a("div",{staticStyle:{padding:"0px 20px",width:"100%"}},[a("div",{staticStyle:{"font-size":"20px","font-weight":"700","padding-bottom":"10px"}},[t._v(" Cantidad de infraestructuras por dependencia ")]),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("table",{attrs:{id:"customers"}},[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Ciudad")]),a("th",{staticStyle:{"text-align":"center"}},[t._v("Cantidad")])]),t._l(t.datosDependencia,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e["datos"]))]),a("td",[t._v(t._s(e["categorias"]))])])}))],2)]),a("v-col",{attrs:{cols:"8"}},[a("BarHorizontal",{attrs:{datos:t.datosDependencia,titulo:"Cantidad de infraestructuras por dependencia",alto:560,reporte:!1}})],1)],1)],1),a("div",{staticClass:"html2pdf__page-break"}),a("div",{staticStyle:{padding:"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" SISTEMA DE MONITOREO DE INDICADORES "),a("br"),t._v(" DE CONSUMO ENERGÉTICO EN INFRAESTRUCTURAS PÚBLICAS "),a("br"),t._v(" "+t._s(t.fecha)+" ")]),a("div",{staticStyle:{padding:"0px 20px",width:"100%"}},[a("div",{staticStyle:{"font-size":"20px","font-weight":"700","padding-bottom":"10px"}},[t._v(" Variables e indicadores globales (comparativos según selección) ")]),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("GraficoTabla",{attrs:{totales:t.totales,cabecera:t.cabecera}})],1)],1)],1),a("div",{staticClass:"html2pdf__page-break"}),a("div",{staticStyle:{padding:"20px","font-size":"18px","font-weight":"700","text-decoration":"underline rgb(68, 68, 68)","font-style":"italic"}},[t._v(" SISTEMA DE MONITOREO DE INDICADORES "),a("br"),t._v(" DE CONSUMO ENERGÉTICO EN INFRAESTRUCTURAS PÚBLICAS "),a("br"),t._v(" "+t._s(t.fecha)+" ")]),a("div",{staticStyle:{padding:"0px 20px",width:"100%"}},[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-bottom":"10px"}},[t._v(" Jerarquía de las infraestructuras ")])]),a("v-col",{attrs:{cols:"4"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-bottom":"10px"}},[t._v(" Tipo de edificación ")])]),a("v-col",{attrs:{cols:"4"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-bottom":"10px"}},[t._v(" Uso de las infraestructuras ")])])],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("Pie",{attrs:{datos:t.datosJerarquia,titulo:"Jerarquía de las infraestructuras",reporte:!1}})],1),a("v-col",{attrs:{cols:"4"}},[a("BarHorizontal",{attrs:{datos:t.datosTipoInfraestructura,titulo:"Tipo de edificación",reporte:!1}})],1),a("v-col",{attrs:{cols:"4"}},[a("BarVertical",{attrs:{datos:t.datosUso,titulo:"Uso de las infraestructuras",reporte:!1}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-bottom":"10px"}},[t._v(" Tipo de propiedad de la infraestructura ")])]),a("v-col",{attrs:{cols:"6"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"700","padding-bottom":"10px"}},[t._v(" Año de construcción del bloque principal ")])])],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("BarVertical",{attrs:{alto:250,datos:t.datosPropiedad,titulo:"Tipo de propiedad de la infraestructura",reporte:!1}})],1),a("v-col",{attrs:{cols:"6"}},[a("BarVertical",{attrs:{alto:250,datos:t.datosConstruccion,titulo:"Año de construcción del bloque principal",reporte:!1}})],1)],1)],1)])],1)},Ka=[],Za={name:"ReporteDashboard",components:{BarVertical:wa,BarHorizontal:ja,DataTable:Ta,GraficoTabla:Ut,Pie:za},props:{datosPropiedad:{type:Array},datosConstruccion:{type:Array},datosJerarquia:{type:Array},datosTipoInfraestructura:{type:Array},datosUso:{type:Array},datosCiudades:{type:Array},datosDependencia:{type:Array},fecha:{type:String},totales:{type:Object}},data:function(){return{cabecera:["Variables/Indicadores","Promedios globales","Promedios según filtro","% de variación según filtro"]}}},Qa=Za,ti=Object(_["a"])(Qa,Xa,Ka,!1,null,null,null),ei=ti.exports;h()(ti,{VCol:ct["a"],VContainer:Xt["a"],VRow:dt["a"]});var ai={components:{CardDato:ha,BarVertical:wa,BarHorizontal:ja,Pie:za,GraficoTabla:Ut,DataTable:Ta,Cabecera:Gt["a"],FiltroDashboard:Ja,ReporteDashboard:ei},name:"Home",data:function(){return{gestion:null,mes:null,cabecera:["Variables/Indicadores","Promedios globales","Promedios según filtro","% de variación según filtro"],selectCiudad:[],selectDependencia:[],datosCiudades:{},datosDependencia:{},datosJerarquia:{},datosTipoInfraestructura:{},datosPropiedad:{},datosConstruccion:{},datosUso:{},totales:{},global:{},seleccion:{},result:{},actualizar:!0,generar:!1}},created:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.get("/api/filtros");case 3:a=e.sent,t.result=a.data,t.gestion=t.result.data.gestion,t.mes=t.result.data.mes,t.selectCiudad=t.result.data.ciudad,t.selectDependencia=t.result.data.dependencia,t.datosCiudades=t.result.data.ciudades,t.datosDependencia=t.result.data.dependencias,t.datosJerarquia=t.result.data.jerarquias,t.datosTipoInfraestructura=t.result.data.tipo_infraestructura,t.datosUso=t.result.data.utiliza,t.datosPropiedad=t.result.data.propiedad,t.datosConstruccion=t.result.data.construccion,t.global={infraestructuras:Math.round(t.result.data.globales[0].infraestructuras),energia_primaria:Math.round(t.result.data.globales[0].energia_primaria),consumo_co2:Math.round(100*t.result.data.globales[0].consumo_co2)/100,indice_consumo_energetico:Math.round(t.result.data.globales[0].indice_consumo_energetico),indice_consumo_mes_m2:Math.round(100*t.result.data.globales[0].indice_consumo_mes_m2)/100,indice_consumo_persona:Math.round(100*t.result.data.globales[0].indice_consumo_persona)/100,indice_consumo_bs:Math.round(100*t.result.data.globales[0].indice_consumo_bs)/100,personas:Math.round(t.result.data.globales[0].personas),visitantes:Math.round(t.result.data.globales[0].visitantes),m2_construidos:Math.round(100*t.result.data.globales[0].m2_construidos)/100,indice_m2_persona:Math.round(100*t.result.data.globales[0].indice_m2_persona)/100,avg_indice_emision_co2_persona:Math.round(100*t.result.data.globales[0].avg_indice_emision_co2_persona)/100,co2_kwh:t.result.data.globales[0].co2_kwh},t.seleccion=t.global,t.totales=t.tablaIndicadores(),t.$store.commit("SET_LOADING",!1);case 20:case"end":return e.stop()}}),e)})))()},computed:Object(n["a"])({},Object(s["c"])(["loading"])),methods:{imprimir:function(){this.generar=!0,te()(this.$refs.documento1,{margin:0,filename:"ciudad.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"landscape"}}).then((function(t){this.generar=!1}),(function(){this.generar=!1}))},actualizarDatos:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.actualizar=!1,a={selectCiudad:t.selectCiudad,selectDependencia:t.selectDependencia,gestion:t.gestion,mes:t.mes},e.next=4,_t.a.post("/api/filtrosactualizar",a);case 4:i=e.sent,t.result=i.data,t.datosCiudades=t.result.data.ciudades,t.datosDependencia=t.result.data.dependencias,t.datosJerarquia=t.result.data.jerarquias,t.datosTipoInfraestructura=t.result.data.tipo_infraestructura,t.datosUso=t.result.data.utiliza,t.datosPropiedad=t.result.data.propiedad,t.datosConstruccion=t.result.data.construccion,t.seleccion={infraestructuras:Math.round(t.result.data.seleccion[0].infraestructuras),energia_primaria:Math.round(100*t.result.data.seleccion[0].energia_primaria)/100,consumo_co2:Math.round(100*t.result.data.seleccion[0].consumo_co2)/100,indice_consumo_energetico:Math.round(t.result.data.seleccion[0].indice_consumo_energetico),indice_consumo_mes_m2:Math.round(100*t.result.data.seleccion[0].indice_consumo_mes_m2)/100,indice_consumo_persona:Math.round(100*t.result.data.seleccion[0].indice_consumo_persona)/100,indice_consumo_bs:Math.round(100*t.result.data.seleccion[0].indice_consumo_bs)/100,personas:Math.round(t.result.data.seleccion[0].personas),visitantes:Math.round(t.result.data.seleccion[0].visitantes),m2_construidos:Math.round(100*t.result.data.seleccion[0].m2_construidos)/100,indice_m2_persona:Math.round(100*t.result.data.seleccion[0].indice_m2_persona)/100,avg_indice_emision_co2_persona:Math.round(100*t.result.data.seleccion[0].avg_indice_emision_co2_persona)/100,co2_kwh:t.result.data.seleccion[0].co2_kwh},t.totales=t.tablaIndicadores(),t.actualizar=!0;case 16:case"end":return e.stop()}}),e)})))()},onCiudad:function(t){this.selectCiudad=t,this.actualizarDatos()},onDependencia:function(t){this.selectDependencia=t,this.actualizarDatos()},tablaIndicadores:function(){var t={};return t[0]={texto:"Infraestructuras (cantidad)",promedio:this.global.infraestructuras,seleccion:this.seleccion.infraestructuras,porcentaje:Math.round(this.seleccion.infraestructuras/this.global.infraestructuras*1e4)/100},t[1]={texto:"Consumo de energía eléctrica Facturada [kWh]",promedio:this.global.indice_consumo_energetico,seleccion:this.seleccion.indice_consumo_energetico,porcentaje:Math.round(1e4*(this.seleccion.indice_consumo_energetico/this.global.indice_consumo_energetico-1))/100},t[2]={texto:"Consumo de energía primaria [kWh]",promedio:this.global.energia_primaria,seleccion:this.seleccion.energia_primaria,porcentaje:Math.round(1e4*(this.seleccion.energia_primaria/this.global.energia_primaria-1))/100},t[3]={texto:"Emisiones de CO<sub>2</sub> [t<sub>eq</sub>]",promedio:this.global.consumo_co2,seleccion:this.seleccion.consumo_co2,porcentaje:Math.round(1e4*(this.seleccion.consumo_co2/this.global.consumo_co2-1))/100},t[4]={texto:"Importe de Energía Eléctrica [Bs]",promedio:this.global.indice_consumo_bs,seleccion:this.seleccion.indice_consumo_bs,porcentaje:Math.round(1e4*(this.seleccion.indice_consumo_bs/this.global.indice_consumo_bs-1))/100},t[5]={texto:"Personal [personas/día]",promedio:this.global.personas,seleccion:this.seleccion.personas,porcentaje:Math.round(1e4*(this.seleccion.personas/this.global.personas-1))/100},t[6]={texto:"Visitantes [visitantes/día]",promedio:this.global.visitantes,seleccion:this.seleccion.visitantes,porcentaje:Math.round(1e4*(this.seleccion.visitantes/this.global.visitantes-1))/100},t[7]={texto:"Superficie construida [m<sup>2</sup>]",promedio:this.global.m2_construidos,seleccion:this.seleccion.m2_construidos,porcentaje:Math.round(1e4*(this.seleccion.m2_construidos/this.global.m2_construidos-1))/100},t[8]={texto:"Consumo específico energía eléctrica por superficie construida [kWh/m<sup>2</sup>]",promedio:this.global.indice_consumo_mes_m2,seleccion:this.seleccion.indice_consumo_mes_m2,porcentaje:Math.round(1e4*(this.seleccion.indice_consumo_mes_m2/this.global.indice_consumo_mes_m2-1))/100},t[9]={texto:"Consumo específico energía eléctrica por personal y visitantes [kWh/p+v]",promedio:this.global.indice_consumo_persona,seleccion:this.seleccion.indice_consumo_persona,porcentaje:Math.round(1e4*(this.seleccion.indice_consumo_persona/this.global.indice_consumo_persona-1))/100},t[10]={texto:"Densidad de Ocupación [m<sup>2</sup>/persona]",promedio:this.global.indice_m2_persona,seleccion:this.seleccion.indice_m2_persona,porcentaje:Math.round(1e4*(this.seleccion.indice_m2_persona/this.global.indice_m2_persona-1))/100},t[11]={texto:"Emisión específica de CO<sub>2</sub> por persona [kg<sub>eq</sub>CO<sub>2</sub>/p+v]",promedio:this.global.avg_indice_emision_co2_persona,seleccion:this.seleccion.avg_indice_emision_co2_persona,porcentaje:Math.round(1e4*(this.seleccion.avg_indice_emision_co2_persona/this.global.avg_indice_emision_co2_persona-1))/100},t[12]={texto:"Emisión de CO2 por consumo de energía eléctrica facturada [CO<sub>2</sub>/kWh]",promedio:this.global.co2_kwh,seleccion:this.seleccion.co2_kwh,porcentaje:Math.round(1e4*(this.seleccion.co2_kwh/this.global.co2_kwh-1))/100},t}}},ii=ai,ri=Object(_["a"])(ii,ua,pa,!1,null,null,null),oi=ri.exports;h()(ri,{VBtn:ot["a"],VCard:N["a"],VCardActions:J["a"],VCardText:J["b"],VCol:ct["a"],VContainer:Xt["a"],VDialog:ie["a"],VIcon:x["a"],VProgressLinear:ca["a"],VRow:dt["a"]});var ni=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"geografico"},[t.loading?t._e():[a("Cabecera",{attrs:{titulo:"GEOREFERENCIACIÓN",iconoTitulo:"mdi-map-search",subtitulo:t.mes+" - "+t.gestion,iconoSubtitulo:"mdi-calendar-month",color:"primary"}}),a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"pa-5",attrs:{cols:"12",sm:"3"}},[a("v-row",[a("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.ciudades,label:"Ciudades"},on:{input:function(e){return t.onCiudad(e)}},model:{value:t.selectCiudad,callback:function(e){t.selectCiudad=e},expression:"selectCiudad"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.dependencias,label:"Dependencias",multiple:""},on:{input:function(e){return t.onDependencia(e)}},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item,r=e.index;return[0===r?a("v-chip",[a("span",[t._v(t._s(i))])]):t._e(),1===r?a("span",{staticClass:"grey--text caption"},[t._v(" (+"+t._s(t.selectDependencia.length-1)+" otras) ")]):t._e()]}}],null,!1,2028473195),model:{value:t.selectDependencia,callback:function(e){t.selectDependencia=e},expression:"selectDependencia"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.jerarquia,label:"Jerarquía",multiple:""},on:{input:function(e){return t.onJerarquia(e)}},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item,r=e.index;return[0===r?a("v-chip",[a("span",[t._v(t._s(i))])]):t._e(),1===r?a("span",{staticClass:"grey--text caption"},[t._v(" (+"+t._s(t.selectJerarquia.length-1)+" otras) ")]):t._e()]}}],null,!1,178718807),model:{value:t.selectJerarquia,callback:function(e){t.selectJerarquia=e},expression:"selectJerarquia"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.tipo,label:"Tipo Infraestructura",multiple:""},on:{input:function(e){return t.onTipoInfraestructura(e)}},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item,r=e.index;return[0===r?a("v-chip",[a("span",[t._v(t._s(i))])]):t._e(),1===r?a("span",{staticClass:"grey--text caption"},[t._v(" (+"+t._s(t.selectTipo.length-1)+" otras) ")]):t._e()]}}],null,!1,714593911),model:{value:t.selectTipo,callback:function(e){t.selectTipo=e},expression:"selectTipo"}})],1)],1)],1),a("v-col",{staticClass:"pa-0",attrs:{cols:"12",sm:"9"}},[a("v-card",{attrs:{height:"650"}},[a("v-card-text",{staticClass:"pa-0 ma-0"},[a("div",{staticStyle:{height:"600px",width:"100%"}},[a("l-map",{staticStyle:{height:"100%"},attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.filtrado,(function(e){return[a("l-marker",{key:e.codigo,attrs:{"lat-lng":[e.latitud,e.longitud]}},[a("l-popup",[a("div",[t._v(" "+t._s(e.codigo)+" - "+t._s(e.nombre)+" "),a("p",[a("b",[t._v("Ciudad :")]),t._v(t._s(e.cod_ciudad)+" - "+t._s(e.ciudad)),a("br"),a("b",[t._v("Jerarquia :")]),t._v(t._s(e.jerarquia)),a("br"),a("b",[t._v("Dependencia :")]),t._v(t._s(e.nivel_1)),a("br"),a("b",[t._v("Tipo infraestructura :")]),t._v(t._s(e.tipo_infraestructura)),a("br"),a("b",[t._v("Personal trabajando :")]),t._v(t._s(e.personas)+" personas"),a("br"),a("b",[t._v("Visitantes :")]),t._v(t._s(e.visitantes)+" visitantes"),a("br")])])])],1)]}))],2)],1)])],1)],1)],1)],1)]],2)},si=[],ci=(a("4de4"),a("caad"),a("2532"),a("2699")),li=a("a40a"),di=a("4e2b"),ui=a("f60f"),pi=a("31dc"),mi=a("fbba"),fi=a("e11e");a("6cc5");delete fi["Icon"].Default.prototype._getIconUrl,fi["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var vi={name:"Geografico",components:{Cabecera:Gt["a"],LMap:ci["a"],LTileLayer:li["a"],LMarker:di["a"],LPopup:ui["a"],LTooltip:pi["a"],LIcon:mi["a"]},data:function(){return{zoom:7,center:Object(fi["latLng"])(-16.64349439756283,-66.46642182849878),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors",mapOptions:{zoomSnap:.5},mes:null,gestion:null,ciudades:null,selectCiudad:[],dependencias:null,selectDependencia:[],jerarquia:null,selectJerarquia:[],tipo:null,selectTipo:[],datos:[],filtrado:null}},created:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.get("/api/filtrosmapas");case 3:a=e.sent,t.result=a.data,t.gestion=t.result.data.gestion,t.mes=t.result.data.mes,t.ciudades=t.result.data.ciudad,t.selectCiudad=t.result.data.ciudad[0],t.dependencias=t.result.data.dependencia,t.selectDependencia=t.result.data.dependencia,t.generales=t.result.data.datos,t.jerarquia=t.result.data.jerarquia,t.selectJerarquia=t.result.data.jerarquia,t.tipo=t.result.data.tipo_infraestructura,t.selectTipo=t.result.data.tipo_infraestructura,t.datos=t.result.data.datos,t.filtrado=t.filtro(),t.$store.commit("SET_LOADING",!1);case 19:case"end":return e.stop()}}),e)})))()},computed:Object(n["a"])({},Object(s["c"])(["loading"])),methods:{filtro:function(){var t=this;return this.generales.filter((function(e){var a=e.ciudad;return t.selectCiudad.includes(a)})).filter((function(e){var a=e.nivel_1;return t.selectDependencia.includes(a)})).filter((function(e){var a=e.jerarquia;return t.selectJerarquia.includes(a)})).filter((function(e){var a=e.tipo_infraestructura;return t.selectTipo.includes(a)}))},onCiudad:function(t){this.filtrado=this.filtro()},onDependencia:function(t){this.filtrado=this.filtro()},onJerarquia:function(t){this.filtrado=this.filtro()},onTipoInfraestructura:function(t){this.filtrado=this.filtro()}}},_i=vi,bi=Object(_["a"])(_i,ni,si,!1,null,null,null),hi=bi.exports;h()(bi,{VCard:N["a"],VCardText:J["b"],VChip:Ct["a"],VCol:ct["a"],VContainer:Xt["a"],VRow:dt["a"],VSelect:yt["a"]});var gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-10"},[t.loading?t._e():[a("Cabecera",{attrs:{titulo:"COMPARACIÓN DE DATOS",iconoTitulo:"mdi-monitor-dashboard",color:"primary"}}),a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"barracolor mb-5",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between my-2 py-2"},[t._v(" FILTROS APLICABLES ")])],1),a("FiltroBechmark",{attrs:{datos:t.result,pdependencia:t.dependencia},on:{on_mes_fin:t.onMesFin,on_edificio:t.onEdificio,on_mes_inicio:t.onMesInicio,on_gestion_fin:t.onGestionFin,on_gestion_inicio:t.onGestionInicio}}),a("v-row",[a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" Esta sección, permite visualizar la información e indicadores de desempeño energético (similares a la sección anterior “HISTÓRICO”), filtrados por tipo de dependencia a la cual pertenece su institución. La misma tiene el propósito de comparar el desempeño energético de sus infraestructuras, con otras infraestructuras del mismo rubro. ")])],1),a("v-row",{staticClass:"py-2",attrs:{align:"center",justify:"space-around"}},[a("v-btn",{attrs:{disabled:"Indicador1"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiarIndicador("Indicador1")}}},[t._v(" Consumo de energía eléctrica Facturada ")]),a("v-btn",{attrs:{disabled:"Indicador2"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiarIndicador("Indicador2")}}},[t._v(" Emisión de CO"),a("sub",[t._v("2")])]),a("v-btn",{attrs:{disabled:"Indicador3"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiarIndicador("Indicador3")}}},[t._v(" Importe de Energía Eléctrica ")]),a("v-btn",{attrs:{disabled:"Indicador4"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiarIndicador("Indicador4")}}},[t._v(" Superficie construida ")]),a("v-btn",{attrs:{disabled:"Indicador5"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiarIndicador("Indicador5")}}},[t._v(" Personal y visitantes ")])],1),t.actualizar?[a(t.componente,t._b({tag:"component"},"component",t.currentProperties,!1))]:[a("v-container",{staticClass:"mt-10",attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{align:"center"}},[a("v-card",{attrs:{color:"primary",dark:"",width:"200"}},[a("v-card-text",[t._v(" Actualizando...... "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)]],2)]],2)},xi=[],Ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"px-5"},[a("v-row",{staticClass:"px-5",attrs:{align:"center"}},[a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"8"}},[a("v-select",{attrs:{items:t.edificios,label:"Infraestructura"},on:{input:function(e){return t.onEdificio(e)}},model:{value:t.selectEdificio,callback:function(e){t.selectEdificio=e},expression:"selectEdificio"}})],1),a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Dependencia/Usuario",disabled:""},model:{value:t.usuarioDependencia,callback:function(e){t.usuarioDependencia=e},expression:"usuarioDependencia"}})],1)],1),a("v-row",{staticClass:"px-5",attrs:{align:"center"}},[a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:t.gestionesInicio,label:"Gestion Inicio"},on:{input:function(e){return t.onGestionInicio(e)}},model:{value:t.selectGestionInicio,callback:function(e){t.selectGestionInicio=e},expression:"selectGestionInicio"}})],1),a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:t.mesesInicio,label:"Mes Inicio","item-text":"desc_mes","item-value":"mes","return-object":""},on:{input:function(e){return t.onMesInicio(e)}},model:{value:t.selectMesInicio,callback:function(e){t.selectMesInicio=e},expression:"selectMesInicio"}})],1),a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:t.gestionesFin,label:"Gestion Fin"},on:{input:function(e){return t.onGestionFin(e)}},model:{value:t.selectGestionFin,callback:function(e){t.selectGestionFin=e},expression:"selectGestionFin"}})],1),a("v-col",{staticClass:"d-flex py-0",attrs:{cols:"6",sm:"3"}},[a("v-select",{attrs:{items:t.mesesFin,label:"Mes Fin","item-text":"desc_mes","item-value":"mes","return-object":""},on:{input:function(e){return t.onMesFin(e)}},model:{value:t.selectMesFin,callback:function(e){t.selectMesFin=e},expression:"selectMesFin"}})],1)],1),t._v(" "+t._s(t.dependencia)+" ")],1)},yi=[],Ii={name:"FiltroBechmark",props:{datos:{type:Object},pdependencia:{type:String}},data:function(){return{selectMesInicio:null,mesesInicio:[{desc_mes:"ENERO",mes:1},{desc_mes:"FEBRERO",mes:2},{desc_mes:"MARZO",mes:3},{desc_mes:"ABRIL",mes:4},{desc_mes:"MAYO",mes:5},{desc_mes:"JUNIO",mes:6},{desc_mes:"JULIO",mes:7},{desc_mes:"AGOSTO",mes:8},{desc_mes:"SEPTIEMBRE",mes:9},{desc_mes:"OCTUBRE",mes:10},{desc_mes:"NOVIEMBRE",mes:11},{desc_mes:"DICIEMBRE",mes:12}],selectGestionInicio:null,gestionesInicio:[],selectMesFin:null,mesesFin:[{desc_mes:"ENERO",mes:1},{desc_mes:"FEBRERO",mes:2},{desc_mes:"MARZO",mes:3},{desc_mes:"ABRIL",mes:4},{desc_mes:"MAYO",mes:5},{desc_mes:"JUNIO",mes:6},{desc_mes:"JULIO",mes:7},{desc_mes:"AGOSTO",mes:8},{desc_mes:"SEPTIEMBRE",mes:9},{desc_mes:"OCTUBRE",mes:10},{desc_mes:"NOVIEMBRE",mes:11},{desc_mes:"DICIEMBRE",mes:12}],selectGestionFin:null,gestionesFin:[],edificios:[],selectEdificio:[],usuarioDependencia:""}},created:function(){"undefined"!==typeof this.datos.data.meses[0]&&(this.selectMesInicio={desc_mes:this.datos.data.meses[0].desc_mes,mes:this.datos.data.meses[0].mes}),this.selectGestionInicio=this.datos.data.gestiones[0],this.gestionesInicio=this.datos.data.gestiones,this.selectMesFin={desc_mes:this.datos.data.meses[this.datos.data.meses.length-1].desc_mes,mes:this.datos.data.meses[this.datos.data.meses.length-1].mes},this.selectGestionFin=this.datos.data.gestiones[0],this.gestionesFin=this.datos.data.gestiones,this.selectEdificio=this.datos.data.edificio[0],this.edificios=this.datos.data.edificio,this.usuarioDependencia=this.datos.data.dependencia},methods:{onMesFin:function(t){this.$emit("on_mes_fin",this.selectMesFin)},onGestionFin:function(t){this.$emit("on_gestion_fin",this.selectGestionFin)},onMesInicio:function(t){this.$emit("on_mes_inicio",this.selectMesInicio)},onGestionInicio:function(t){this.$emit("on_gestion_inicio",this.selectGestionInicio)},onEdificio:function(t){this.$emit("on_edificio",this.selectEdificio)}},computed:{dependencia:function(){this.usuarioDependencia=this.$store.state.nivel}}},wi=Ii,Gi=a("8654"),Ei=Object(_["a"])(wi,Ci,yi,!1,null,null,null),Si=Ei.exports;h()(Ei,{VCol:ct["a"],VRow:dt["a"],VSelect:yt["a"],VTextField:Gi["a"]});var Oi={components:{FiltroBechmark:Si,Indicador1:oe,Indicador2:be,Indicador3:ke,Indicador4:He,Indicador5:oa,Cabecera:Gt["a"]},name:"Benchmark",data:function(){return{actualizar:!0,componente:"Indicador1",selectMesInicio:null,mesesInicio:[],selectGestionInicio:null,gestionesInicio:[],selectMesFin:null,mesesFin:[],selectGestionFin:null,gestionesFin:[],selectEdificio:[],global:[],dependencia:"",seleccion:[],result:{},param:{}}},created:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),t.$store.commit("SET_TITULO","BENCHMARK"),e.next=4,_t.a.get("/api/filtrosbenchmark");case 4:a=e.sent,t.result=a.data,t.global=t.result.data.global,t.seleccion=t.result.data.seleccion,t.selectEdificio=t.result.data.edificio,t.selectMesInicio={desc_mes:t.result.data.meses[0].desc_mes,mes:t.result.data.meses[0].mes},t.mesesInicio=t.result.data.meses,t.selectGestionInicio=t.result.data.gestiones[0],t.gestionesInicio=t.result.data.gestiones,t.selectMesFin={desc_mes:t.result.data.meses[t.result.data.meses.length-1].desc_mes,mes:t.result.data.meses[t.result.data.meses.length-1].mes},t.mesesFin=t.result.data.meses,t.selectGestionFin=t.result.data.gestiones,t.gestionesFin=t.result.data.gestiones,t.dependencia=t.result.data.dependencia,t.$store.state.nivel=t.dependencia,t.$store.commit("SET_LOADING",!1);case 20:case"end":return e.stop()}}),e)})))()},computed:Object(n["a"])(Object(n["a"])({},Object(s["c"])(["loading"])),{},{currentProperties:function(){return{pglobal:this.global,pseleccion:this.seleccion}}}),methods:{actualizarDatos:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.actualizar=!1,a={selectEdificio:t.selectEdificio,gestioninicio:t.selectGestionInicio,mesinicio:t.selectMesInicio.mes,gestionfin:t.selectGestionFin,mesfin:t.selectMesFin.mes},e.next=4,_t.a.post("/api/filtrosbactualizar",a);case 4:i=e.sent,t.result=i.data,t.dependencia=t.result.data.dependencia,console.log(t.dependencia),t.$store.state.nivel=t.dependencia,console.log(t.$store.state.nivel),t.global=t.result.data.global,t.seleccion=t.result.data.seleccion,t.actualizar=!0;case 13:case"end":return e.stop()}}),e)})))()},cambiarIndicador:function(t){this.componente=t},onEdificio:function(t){this.selectEdificio=t,this.actualizarDatos()},onMesInicio:function(t){this.selectMesInicio=t,this.actualizarDatos()},onGestionInicio:function(t){this.selectGestionInicio=t,this.actualizarDatos()},onMesFin:function(t){this.selectMesFin=t,this.actualizarDatos()},onGestionFin:function(t){this.selectGestionFin=t,this.actualizarDatos()}}},ki=Oi,Vi=Object(_["a"])(ki,gi,xi,!1,null,null,null),Ti=Vi.exports;h()(Vi,{VBtn:ot["a"],VCard:N["a"],VCardText:J["b"],VCol:ct["a"],VContainer:Xt["a"],VProgressLinear:ca["a"],VRow:dt["a"]});var Ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Cabecera",{attrs:{titulo:"Registro de usuarios",iconoTitulo:"mdi-account",color:"primary"}}),t.tabla?[a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.desserts,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-account-search",label:"busqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",r,!1),i),[t._v(" Nuevo ")])]}}],null,!1,1527042485),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[[a("ValidationObserver",{ref:"obs",scopedSlots:t._u([{key:"default",fn:function(e){var i=e.invalid,r=e.validated,o=e.handleSubmit;return[a("v-card",{staticClass:"elevation-12"},[a("v-card-text",[a("span",{staticClass:"title"},[t._v(t._s(t.formTitle))]),a("v-divider")],1),a("v-card-text",[a("v-form",[a("ValidationProvider",{attrs:{name:"editedItem.name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,r=e.valid;return[a("v-text-field",{attrs:{"error-messages":i,success:r,label:"Nombre Completo",required:""},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,r=e.valid;return[a("v-text-field",{attrs:{"error-messages":i,success:r,label:"E-mail",required:""},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})]}}],null,!0)}),t.estado()?[a("ValidationProvider",{attrs:{rules:"required",name:"Password",vid:"password"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,r=e.valid;return[a("v-text-field",{attrs:{type:"password","error-messages":i,success:r,label:"Contraseña",required:""},model:{value:t.editedItem.password,callback:function(e){t.$set(t.editedItem,"password",e)},expression:"editedItem.password"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{rules:"required|confirmed:password",name:"Password confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,r=e.valid;return[a("v-text-field",{attrs:{type:"password","error-messages":i,success:r,label:"Confirmar Contraseña",required:""},model:{value:t.editedItem.confirmation,callback:function(e){t.$set(t.editedItem,"confirmation",e)},expression:"editedItem.confirmation"}})]}}],null,!0)})]:t._e(),a("ValidationProvider",{attrs:{name:"select",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors,r=e.valid;return[a("v-select",{attrs:{items:t.rol,"item-text":"rol","item-value":"rol_id","error-messages":i,success:r,label:"Rol",required:""},model:{value:t.editedItem.rol_id,callback:function(e){t.$set(t.editedItem,"rol_id",e)},expression:"editedItem.rol_id"}})]}}],null,!0)})],2)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:t.close}},[t._v("Cerrar")]),a("v-btn",{attrs:{color:"primary",disabled:(i||!r)&&t.estado()},on:{click:function(e){return o(t.submit)}}},[t._v("Grabar")])],1)],1)]}}],null,!1,4246440749)})]],2),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Está seguro de eliminar el usuario?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("Aceptar")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.asignar(i)}}},[t._v(" mdi-domain ")])]}},{key:"no-data",fn:function(){return[t._v(" SIN REGISTROS ")]},proxy:!0}],null,!1,1142898220)})]:[a("v-card",[a("v-card-title",[t._v(" USUARIO: "+t._s(t.editedItem.name)+" "),a("hr")]),a("v-card-text",[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("v-combobox",{attrs:{items:t.infra,label:"Seleccionar Entidad",multiple:"",dense:""},model:{value:t.selectInfra,callback:function(e){t.selectInfra=e},expression:"selectInfra"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.grabarInfra()}}},[t._v(" GRABAR ")]),a("v-btn",{attrs:{depressed:"",color:"error"},on:{click:function(e){t.tabla=!0}}},[t._v(" CANCELAR ")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:t.tasignacion,items:t.asignacion,"hide-default-footer":""},scopedSlots:t._u([{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.eliminar(i)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t._v(" SIN REGISTROS ")]},proxy:!0}])})],1),a("v-card-actions",[a("v-spacer")],1)],1)]],2)},Ri=[],Di=a("7bb1"),Mi={name:"Usuario",components:{Cabecera:Gt["a"],ValidationProvider:Di["b"],ValidationObserver:Di["a"]},data:function(){return{dialog:!1,dialogDelete:!1,tabla:!0,search:"",headers:[{text:"Nombre",value:"name"},{text:"Email",value:"email"},{text:"Rol",value:"rol.rol"},{text:"Fecha creación",value:"created_at"},{text:"Fecha modificación",value:"updated_at"},{text:"Acciones",value:"actions",sortable:!1}],tasignacion:[{text:"Entidades Asignadas",value:"nombre",sortable:!0},{text:"Acciones",value:"actions",sortable:!1}],asignacion:[],infra:[],selectInfra:[],rol:[{rol_id:1,rol:"Administrador"},{rol_id:2,rol:"Usuario institucional"},{rol_id:3,rol:"Usuario analista"}],desserts:[],editedIndex:-1,name:"",editedItem:{name:"",email:"",password:"",confirmation:"",rol_id:null},defaultItem:{name:"",email:"",password:"",confirmation:"",rol_id:null}}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo usuario":"Editar usuario"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.get("/api/usuarios");case 3:a=e.sent,t.desserts=a.data,t.$store.commit("SET_LOADING",!1);case 6:case"end":return e.stop()}}),e)})))()},methods:{editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.$store.commit("SET_LOADING",!0),e.next=4,_t.a.delete("/api/usuarios/"+t.editedItem.id);case 4:return e.next=6,_t.a.get("/api/usuarios");case 6:a=e.sent,t.desserts=a.data,t.$store.commit("SET_LOADING",!1),t.closeDelete(),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},asignar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.editedItem=Object.assign({},t),e.$store.commit("SET_LOADING",!0),a.next=5,_t.a.post("/api/asignacion",{id_usuario:t.id});case 5:i=a.sent,e.asignacion=i.data.data,e.infra=i.data.infraestructura,e.$store.commit("SET_LOADING",!1),e.tabla=!1,a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](0),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,12]])})))()},close:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dialog=!1,e.next=3,requestAnimationFrame((function(){t.$refs.obs.reset()}));case 3:t.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}));case 4:case"end":return e.stop()}}),e)})))()},submit:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.$store.commit("SET_LOADING",!0),!t.estado()){e.next=7;break}return e.next=5,_t.a.post("/api/usuarios",t.editedItem);case 5:e.next=9;break;case 7:return e.next=9,_t.a.put("/api/usuarios/"+t.editedItem.id,t.editedItem);case 9:return e.next=11,_t.a.get("/api/usuarios");case 11:a=e.sent,t.desserts=a.data,t.$store.commit("SET_LOADING",!1),t.close(),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))()},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},estado:function(){return"undefined"===typeof this.editedItem.id},eliminar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.$store.commit("SET_LOADING",!0),a.next=4,_t.a.post("/api/borrar",{id_usuario:t.id_usuario,id_institucion:t.id_institucion});case 4:i=a.sent,e.asignacion=i.data.data,e.$store.commit("SET_LOADING",!1),e.tabla=!1,a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},grabarInfra:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.$store.commit("SET_LOADING",!0),e.next=4,_t.a.post("/api/borrarinfra",{id_usuario:t.editedItem.id,infra:t.selectInfra});case 4:a=e.sent,t.asignacion=a.data.data,t.$store.commit("SET_LOADING",!1),t.selectInfra=[],t.tabla=!1,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}},Fi=Mi,ji=a("2b5d"),Ni=a("8fea"),Li=a("4bd4"),$i=a("71d9"),Bi=Object(_["a"])(Fi,Ai,Ri,!1,null,null,null),Pi=Bi.exports;h()(Bi,{VBtn:ot["a"],VCard:N["a"],VCardActions:J["a"],VCardText:J["b"],VCardTitle:J["c"],VCol:ct["a"],VCombobox:ji["a"],VContainer:Xt["a"],VDataTable:Ni["a"],VDialog:ie["a"],VDivider:g["a"],VForm:Li["a"],VIcon:x["a"],VRow:dt["a"],VSelect:yt["a"],VSpacer:$["a"],VTextField:Gi["a"],VToolbar:$i["a"]});var zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{cols:"12",sm:"7",md:"7"}},[i("v-card",{staticClass:"elevation-12"},[i("v-row",[i("v-col",{attrs:{cols:"12",md:"7"}},[i("v-card-text",{staticClass:"mt-6"},[i("h1",{staticClass:"text-center display-1 secondary--text"},[t._v(" Iniciar sesión ")]),i("h4",{staticClass:"text-center mx-10 mt-2 mb-6 secondary--text"},[t._v(" Registrar los credenciales para ingreso al sistema ")]),t.error?i("v-alert",{attrs:{border:"left",dense:"",type:"error"}},[t._v(" Credenciales incorrectas ")]):t._e(),i("v-form",{staticClass:"px-6 py-4"},[i("v-text-field",{attrs:{label:"Email",rules:[function(){return!!t.form.email||"Registrar email"}],"prepend-inner-icon":"mdi-account",type:"text",color:"primary"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),i("v-text-field",{attrs:{label:"Contraseña",rules:[function(){return!!t.form.password||"Registrar contraseña"}],"prepend-inner-icon":"mdi-key",type:"password",color:"primary"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),i("div",{staticClass:"text-center mt-3"},[i("v-btn",{attrs:{color:"primary",disabled:""==t.form.password||""==t.form.email},on:{click:t.enviar}},[t._v(" Ingresar ")])],1)],1),i("v-col",{staticClass:"hidden-sm-and-down barracolor",attrs:{cols:"12",md:"5"}},[i("v-card-text",{staticClass:"white--text mt-6"},[i("v-img",{attrs:{src:a("ce11")}}),i("h3",{staticClass:"text-center"},[t._v(" Plataforma de monitoreo de indicadores de consumo energético en infraestructuras públicas ")])],1)],1)],1)],1)],1)],1)],1)],1)},qi=[],Ui={name:"Login",data:function(){return{form:{email:"",password:""}}},computed:Object(n["a"])({},Object(s["c"])("auth",["error"])),methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])({login:"auth/login"})),{},{enviar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.login(t.form);case 2:if(t.error){e.next=5;break}return e.next=5,t.$router.replace({name:"Home"});case 5:case"end":return e.stop()}}),e)})))()}})},Yi=Ui,Hi=a("0798"),Wi=Object(_["a"])(Yi,zi,qi,!1,null,null,null),Ji=Wi.exports;h()(Wi,{VAlert:Hi["a"],VApp:W["a"],VBtn:ot["a"],VCard:N["a"],VCardText:J["b"],VCol:ct["a"],VContainer:Xt["a"],VForm:Li["a"],VImg:lt["a"],VRow:dt["a"],VTextField:Gi["a"]});var Xi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Cabecera",{attrs:{titulo:t.titulo,iconoTitulo:"mdi-chart-timeline",subtitulo:t.mes+" - "+t.gestion,iconoSubtitulo:"mdi-calendar-month",color:"primary"}}),a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"pb-5",attrs:{align:"center",justify:"space-around"}},[a("v-btn",{attrs:{disabled:"Infraestructura"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiar("Infraestructura")}}},[t._v(" Infraestructura ")]),a("v-btn",{attrs:{disabled:"Edificio"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiar("Edificio")}}},[t._v(" Nombre edificio ")])],1),[a(t.componente,t._b({tag:"component"},"component",t.currentProperties,!1)),a("br"),a("br"),a("br")]],2)],1)},Ki=[],Zi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.pindicador,"hide-default-footer":""},scopedSlots:t._u([{key:"header",fn:function(e){return[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"}}),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"},attrs:{colspan:"2"}},[t._v("CONSUMO DE ENERGÍA")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"}},[t._v("EMISIÓN DE CO2")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"}},[t._v("IMPORTE DE ENERGÍA ELÉCTRICA")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"}},[t._v("SUPERFICIE CONSTRUIDA")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"},attrs:{colspan:"3"}},[t._v("INDICADORES RELACIONADOS A LA SUPERFICIE CONSTRUIDA")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"}},[t._v("PERSONAL Y VISITANTES")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"},attrs:{colspan:"3"}},[t._v("INDICADORES RELACIONADOS CON PERSONAL Y VISITANTES")])])])]}},{key:"no-data",fn:function(){return[t._v(" NO TIENE INFRAESTRUCTURAS ASIGNADAS ")]},proxy:!0}])})],1)},Qi=[],tr={name:"Infraestructura",props:{pindicador:{type:Array}},data:function(){return{headers:[{text:"Infraestructura",value:"nombre_infraestructura",width:"300px"},{text:"Consumo de energía eléctrica facturada [kWh]",value:"indice_consumo_energetico",align:"end",width:"150px"},{text:"Consumo de energía primaria [kWh]",value:"avg_energia_primaria",align:"end",width:"150px"},{text:"Emisiones de CO2 [teq]",value:"consumo_co2",align:"end",width:"150px"},{text:"Importe de Energía Eléctrica [Bs]",value:"indice_consumo_bs",align:"end",width:"150px"},{text:"Superficie construida total en infraestructuras [m2]",value:"m2_construidos",align:"end",width:"150px"},{text:"Consumo específico energía eléctrica por superficie construida [kWh/m2]",value:"avg_indice_consumo_mes_m2",align:"end",width:"150px"},{text:"Emisión específica de CO2 por superficie construida [kgeqCO2/m2]",value:"avg_indice_emision_co2_m2",align:"end",width:"150px"},{text:"Importe específico energía eléctrica por superficie construida [Bs/m2]",value:"avg_indice_consumo_bs_m2",align:"end",width:"150px"},{text:"Personal y visitantes en infraestructuras [p+v]",value:"personas",align:"end",width:"150px"},{text:"Consumo específico energía eléctrica por persona [kWh/p+v]",value:"avg_indice_consumo_persona",align:"end",width:"150px"},{text:"Emisión específica de CO2 por persona [kgeqCO2/p+v]",value:"avg_indice_emision_co2_persona",align:"end",width:"150px"},{text:"Importe específico energía eléctrica por persona [Bs/p+v]",value:"indice_consumo_bs_persona",align:"end",width:"150px"}]}}},er=tr,ar=Object(_["a"])(er,Zi,Qi,!1,null,null,null),ir=ar.exports;h()(ar,{VDataTable:Ni["a"]});var rr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.pindicador},scopedSlots:t._u([{key:"header",fn:function(e){return[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"},attrs:{colspan:"2"}}),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"},attrs:{colspan:"2"}},[t._v("CONSUMO DE ENERGÍA")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"}},[t._v("EMISIÓN DE CO2")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"}},[t._v("IMPORTE DE ENERGÍA ELÉCTRICA")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"}},[t._v("SUPERFICIE CONSTRUIDA")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"},attrs:{colspan:"3"}},[t._v("INDICADORES RELACIONADOS A LA SUPERFICIE CONSTRUIDA")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"}},[t._v("PERSONAL Y VISITANTES")]),a("th",{staticStyle:{"text-align":"center","background-color":"#BFBFBF",color:"#000"},attrs:{colspan:"3"}},[t._v("INDICADORES RELACIONADOS CON PERSONAL Y VISITANTES")])])])]}},{key:"no-data",fn:function(){return[t._v(" NO TIENE INFRAESTRUCTURAS ASIGNADAS ")]},proxy:!0}])})],1)},or=[],nr={name:"Edificio",props:{pindicador:{type:Array}},data:function(){return{headers:[{text:"Infraestructura",value:"nombre_infraestructura",width:"250px"},{text:"Nombre edificio",value:"nombre_edificio",width:"250px"},{text:"Consumo de energía eléctrica facturada [kWh]",value:"indice_consumo_energetico",align:"end",width:"150px"},{text:"Consumo de energía primaria [kWh]",value:"avg_energia_primaria",align:"end",width:"150px"},{text:"Emisiones de CO2 [teq]",value:"consumo_co2",align:"end",width:"150px"},{text:"Importe de Energía Eléctrica [Bs]",value:"indice_consumo_bs",align:"end",width:"150px"},{text:"Superficie construida total en infraestructuras [m2]",value:"m2_construidos",align:"end",width:"150px"},{text:"Consumo específico energía eléctrica por superficie construida [kWh/m2]",value:"avg_indice_consumo_mes_m2",align:"end",width:"150px"},{text:"Emisión específica de CO2 por superficie construida [kgeqCO2/m2]",value:"avg_indice_emision_co2_m2",align:"end",width:"150px"},{text:"Importe específico energía eléctrica por superficie construida [Bs/m2]",value:"avg_indice_consumo_bs_m2",align:"end",width:"150px"},{text:"Personal y visitantes en infraestructuras [p+v]",value:"personas",align:"end",width:"150px"},{text:"Consumo específico energía eléctrica por persona [kWh/p+v]",value:"avg_indice_consumo_persona",align:"end",width:"150px"},{text:"Emisión específica de CO2 por persona [kgeqCO2/p+v]",value:"avg_indice_emision_co2_persona",align:"end",width:"150px"},{text:"Importe específico energía eléctrica por persona [Bs/p+v]",value:"indice_consumo_bs_persona",align:"end",width:"150px"}]}}},sr=nr,cr=Object(_["a"])(sr,rr,or,!1,null,null,null),lr=cr.exports;h()(cr,{VDataTable:Ni["a"]});var dr={name:"Indicadores",components:{Cabecera:Gt["a"],Infraestructura:ir,Edificio:lr},data:function(){return{search:"",mes:"",gestion:"",componente:"Infraestructura",indicadores:[],indicadores_edificio:[],titulo:"Indicadores por institución"}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/indicadores");case 3:a=e.sent,t.gestion=a.data.data.gestion,t.mes=a.data.data.mes,console.log(a.data.data),t.indicadores=a.data.data.indicadores,t.indicadores_edificio=a.data.data.indicadores_edificio,t.$store.commit("SET_LOADING",!1);case 10:case"end":return e.stop()}}),e)})))()},computed:{currentProperties:function(){return"Infraestructura"===this.componente?{pindicador:this.indicadores}:{pindicador:this.indicadores_edificio}}},methods:{cambiar:function(t){this.componente=t}}},ur=dr,pr=Object(_["a"])(ur,Xi,Ki,!1,null,null,null),mr=pr.exports;h()(pr,{VBtn:ot["a"],VContainer:Xt["a"],VRow:dt["a"]});var fr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Cabecera",{attrs:{titulo:"Crear Entidad",iconoTitulo:"mdi-office-building",color:"primary"}}),a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{label:"Registrar nueva entidad"},model:{value:t.nuevo,callback:function(e){t.nuevo=e},expression:"nuevo"}}),a("v-btn",{attrs:{depressed:"",color:"primary",disabled:""===t.nuevo},on:{click:function(e){return t.grabar()}}},[t._v(" GRABAR ENTIDAD ")])],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.infra,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-account-search",label:"busqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.eliminar(i)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t._v(" SIN REGISTROS ")]},proxy:!0}])})],1)},vr=[],_r={name:"Crear",components:{Cabecera:Gt["a"]},data:function(){return{search:"",headers:[{text:"Entidad",value:"nombre"},{text:"Acciones",value:"actions",sortable:!1}],infra:[],nuevo:""}},created:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/listainstitucion");case 3:a=e.sent,t.infra=a.data.instituciones,t.$store.commit("SET_LOADING",!1);case 6:case"end":return e.stop()}}),e)})))()},methods:{eliminar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$store.commit("SET_LOADING",!0),a.next=3,_t.a.post("/api/borrarinstitucion",{id_institucion:t.id});case 3:i=a.sent,e.infra=i.data.instituciones,e.$store.commit("SET_LOADING",!1);case 6:case"end":return a.stop()}}),a)})))()},grabar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/insertarinstitucion",{nombre:t.nuevo});case 3:a=e.sent,t.infra=a.data.instituciones,t.nuevo="",t.$store.commit("SET_LOADING",!1);case 7:case"end":return e.stop()}}),e)})))()}}},br=_r,hr=Object(_["a"])(br,fr,vr,!1,null,null,null),gr=hr.exports;h()(hr,{VBtn:ot["a"],VCard:N["a"],VCardText:J["b"],VDataTable:Ni["a"],VIcon:x["a"],VTextField:Gi["a"],VToolbar:$i["a"]});var xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Cabecera",{attrs:{titulo:"Administrar infraestructuras",iconoTitulo:"mdi-domain",color:"primary"}}),t.editar?[a("v-toolbar",{attrs:{flat:""}},[a("h3",[t._v(t._s(t.titulo))]),a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"success",small:"",dark:""},on:{click:function(e){return t.cancelar()}}},[t._v(" Volver ")])],1),a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"py-2",attrs:{align:"center",justify:"space-around"}},[a("v-btn",{attrs:{disabled:"DatosInfraestructura"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiar("DatosInfraestructura")}}},[t._v(" Datos infraestructura ")]),Object.keys(t.infraestructura).length?[a("v-btn",{attrs:{disabled:"DatosInstitucion"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiar("DatosInstitucion")}}},[t._v(" Datos entidad ")]),a("v-btn",{attrs:{disabled:"DatosBloque"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiar("DatosBloque")}}},[t._v(" Datos bloque ")]),a("v-btn",{attrs:{disabled:"Medidores"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiar("Medidores")}}},[t._v(" Medidores ")]),a("v-btn",{attrs:{disabled:"UbicacionGeografica"==t.componente,text:"",color:"light-blue darken-4"},on:{click:function(e){return t.cambiar("UbicacionGeografica")}}},[t._v(" Ubicación geográfica ")])]:t._e()],2),[a(t.componente,t._b({tag:"component"},"component",t.currentProperties,!1))]],2)]:[a("v-col",{staticClass:"caption px-5",attrs:{cols:"12"}},[t._v(" Esta sección permite administrar la información de la(s) infraestructura(s), siendo posible actualizar la información existente. Las modificaciones en la base de datos, serán actualizadas cada fin de mes. ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.infraestructuras,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"mdi-account-search",label:"busqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",small:""},on:{click:t.nuevo}},[t._v(" Nuevo ")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(i)}}},[t._v(" mdi-pencil ")])]}},{key:"no-data",fn:function(){return[t._v(" SIN REGISTROS ")]},proxy:!0}],null,!1,3993516126)})]],2)},Cr=[],yr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{staticClass:"caption",attrs:{cols:"12"}},[t._v(' El siguiente apartado permite visualizar la información registrada de cada infraestructura, para que el administrador de su institución pueda revisar, modificar o actualizar los datos, para que los cambios sean registrados, se debe presionar el botón "grabar". ')]),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[t.nuevo?[a("v-select",{attrs:{items:t.ciudad,"item-text":"ciudad","item-value":"id_departamento",label:"Ciudad (*)","persistent-hint":"","return-object":"","single-line":""},model:{value:t.infraestructura.id_departamento,callback:function(e){t.$set(t.infraestructura,"id_departamento",e)},expression:"infraestructura.id_departamento"}})]:[a("v-text-field",{attrs:{label:"Ciudad",disabled:""},model:{value:t.infraestructura.ciudad,callback:function(e){t.$set(t.infraestructura,"ciudad",e)},expression:"infraestructura.ciudad"}})]],2),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[t.nuevo?[a("v-select",{attrs:{items:t.institucion,"item-text":"nombre","item-value":"id_institucion",label:"Entidad (*)","persistent-hint":"","return-object":"","single-line":""},model:{value:t.infraestructura.id_institucion,callback:function(e){t.$set(t.infraestructura,"id_institucion",e)},expression:"infraestructura.id_institucion"}})]:[a("v-text-field",{attrs:{label:"Entidad",disabled:""},model:{value:t.infraestructura.nombre_infraestructura,callback:function(e){t.$set(t.infraestructura,"nombre_infraestructura",e)},expression:"infraestructura.nombre_infraestructura"}})]],2),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Nombre del edificio (*)"},model:{value:t.infraestructura.nombre_edificio,callback:function(e){t.$set(t.infraestructura,"nombre_edificio",e)},expression:"infraestructura.nombre_edificio"}})],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"12"}},[t._v(" Dirección ")]),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"T.Via"},model:{value:t.infraestructura.t_via_1,callback:function(e){t.$set(t.infraestructura,"t_via_1",e)},expression:"infraestructura.t_via_1"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[a("v-text-field",{attrs:{label:"Nombre Vía Principal"},model:{value:t.infraestructura.nombre_via,callback:function(e){t.$set(t.infraestructura,"nombre_via",e)},expression:"infraestructura.nombre_via"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"No."},model:{value:t.infraestructura.numero,callback:function(e){t.$set(t.infraestructura,"numero",e)},expression:"infraestructura.numero"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"T.Via"},model:{value:t.infraestructura.t_via_2,callback:function(e){t.$set(t.infraestructura,"t_via_2",e)},expression:"infraestructura.t_via_2"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Via Secundaria"},model:{value:t.infraestructura.via_secundaria_1,callback:function(e){t.$set(t.infraestructura,"via_secundaria_1",e)},expression:"infraestructura.via_secundaria_1"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"T.Via"},model:{value:t.infraestructura.t_via_3,callback:function(e){t.$set(t.infraestructura,"t_via_3",e)},expression:"infraestructura.t_via_3"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Via Secundaria 2"},model:{value:t.infraestructura.via_secundaria_2,callback:function(e){t.$set(t.infraestructura,"via_secundaria_2",e)},expression:"infraestructura.via_secundaria_2"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-radio-group",{attrs:{row:""},model:{value:t.infraestructura.id_jerarquia,callback:function(e){t.$set(t.infraestructura,"id_jerarquia",e)},expression:"infraestructura.id_jerarquia"}},[a("v-radio",{attrs:{label:"Of principal / central",value:2}}),a("v-radio",{attrs:{label:"Of dependiente",value:1}})],1)],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t.nuevo?[a("v-btn",{attrs:{color:"primary",disabled:!(null!=t.infraestructura.id_institucion&&""!=t.infraestructura.nombre_edificio&&null!=t.infraestructura.id_departamento)},on:{click:t.grabar}},[t._v(" Grabar ")])]:[a("v-btn",{attrs:{color:"primary",disabled:!(""!=t.infraestructura.nombre_edificio)},on:{click:t.grabar}},[t._v(" Grabar ")])]],2)],1),a("br"),a("br"),a("br")],1)},Ir=[],wr={props:{dato:{type:Object}},data:function(){return{infraestructura:{id:null,id_departamento:null,id_institucion:null,nombre_edificio:"",t_via_1:null,nombre_via:null,numero:null,t_via_2:null,via_secundaria_1:null,t_via_3:null,via_secundaria_2:null,id_jerarquia:2},nuevo:!1,ciudad:{},institucion:{},estado:!0}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$store.commit("SET_LOADING",!0),"undefined"!==typeof t.dato.id){e.next=10;break}return e.next=4,_t.a.post("/api/nuevainfra");case 4:a=e.sent,t.ciudad=a.data.ciudad,t.institucion=a.data.institucion,t.nuevo=!0,e.next=15;break;case 10:return e.next=12,_t.a.post("/api/datosinfraestructura",{id:t.dato.id});case 12:i=e.sent,t.infraestructura=i.data.infraestructura[0],t.nuevo=!1;case 15:t.$store.commit("SET_LOADING",!1);case 16:case"end":return e.stop()}}),e)})))()},methods:{grabar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/grabarinfraestructura",{infraestructura:t.infraestructura});case 3:a=e.sent,t.infraestructura=a.data.infraestructura[0],t.$parent.infraestructura=t.infraestructura,null!=t.infraestructura.id&&(t.nuevo=!1),t.$store.commit("SET_LOADING",!1);case 8:case"end":return e.stop()}}),e)})))()}}},Gr=wr,Er=a("67b6"),Sr=a("43a6"),Or=Object(_["a"])(Gr,yr,Ir,!1,null,null,null),kr=Or.exports;h()(Or,{VBtn:ot["a"],VCol:ct["a"],VRadio:Er["a"],VRadioGroup:Sr["a"],VRow:dt["a"],VSelect:yt["a"],VTextField:Gi["a"]});var Vr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"py-0 caption",attrs:{cols:"12"}},[a("p",{staticClass:"font-weight-bold"},[t._v("Coordenadas Geográficas")])]),null!=t.dlatitud?[a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("span",{staticClass:"font-weight-bold"},[t._v("Latitud: ")]),t._v(" "+t._s(t.dlatitud)+" ")]),a("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[a("span",{staticClass:"font-weight-bold"},[t._v("Longitud: ")]),t._v(" "+t._s(t.dlongitud)+" ")])]:t._e()],2),a("v-row",[a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-card",{attrs:{height:"300"}},[a("v-card-text",{staticClass:"pa-0 ma-0"},[a("div",{staticStyle:{height:"300px",width:"100%"}},[a("l-map",{staticStyle:{height:"100%"},attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),null!=t.dlatitud?a("l-marker",{attrs:{"lat-lng":[t.dlatitud,t.dlongitud],draggable:!0},on:{move:t.dragStartHandler}}):t._e()],1)],1)])],1)],1)],1)],1),a("v-row",[a("v-col",{staticClass:"pr-0",attrs:{cols:"6"}},[a("v-btn",{attrs:{color:"primary",block:"",small:"",disabled:null==t.dlatitud},on:{click:t.grabar}},[t._v(" Grabar posición ")])],1),a("v-col",{staticClass:"pl-0",attrs:{cols:"6"}},[a("v-btn",{attrs:{color:"warning",block:"",small:""},on:{click:t.getUserPosition}},[t._v(" Posición actual ")])],1)],1)],1)},Tr=[];delete fi["Icon"].Default.prototype._getIconUrl,fi["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var Ar={name:"Geografico",components:{LMap:ci["a"],LTileLayer:li["a"],LMarker:di["a"],LPopup:ui["a"],LTooltip:pi["a"],LIcon:mi["a"]},props:{dato:{type:Object}},data:function(){return{zoom:15,userLocation:{},center:Object(fi["latLng"])(null==this.dato.latitud?-16.508433858298485:this.dato.latitud,null==this.dato.longitud?-68.143000602722:this.dato.longitud),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors",mapOptions:{zoomSnap:.5},dlatitud:null==this.dato.latitud?-16.508433858298485:this.dato.latitud,dlongitud:null==this.dato.longitud?-68.143000602722:this.dato.longitud}},methods:{dragStartHandler:function(t){var e=t.target.getLatLng();console.log(lating),this.dlatitud=e.lat,this.dlongitud=e.lng},grabar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/modificargeo",{latitud:t.dlatitud,longitud:t.dlongitud,id:t.dato.id});case 3:a=e.sent,t.infraestructura=a.data.infraestructura[0],t.$parent.infraestructura=t.infraestructura,t.$store.commit("SET_LOADING",!1);case 7:case"end":return e.stop()}}),e)})))()},getUserPosition:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){t.center=Object(fi["latLng"])(e.coords.latitude,e.coords.longitude),t.dlatitud=e.coords.latitude,t.dlongitud=e.coords.longitude,t.zoom=15,console.log(e.coords.latitude)}));case 1:case"end":return e.stop()}}),e)})))()}}},Rr=Ar,Dr=Object(_["a"])(Rr,Vr,Tr,!1,null,null,null),Mr=Dr.exports;h()(Dr,{VBtn:ot["a"],VCard:N["a"],VCardText:J["b"],VCol:ct["a"],VContainer:Xt["a"],VRow:dt["a"]});var Fr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{staticClass:"py-4 caption",attrs:{cols:"3"}},[t._v(" Tipo de Infraestructura "),a("v-radio-group",{staticClass:"py-0",model:{value:t.infraestructura.id_tipo_infraestructura,callback:function(e){t.$set(t.infraestructura,"id_tipo_infraestructura",e)},expression:"infraestructura.id_tipo_infraestructura"}},[a("v-radio",{attrs:{label:"Casa",value:1}}),a("v-radio",{attrs:{label:"Conventillo",value:2}}),a("v-radio",{attrs:{label:"Edificio",value:3}}),a("v-radio",{attrs:{label:"Otros",value:4}})],1)],1),a("v-col",{staticClass:"py-4 caption",attrs:{cols:"3"}},[t._v(" La fachada exterior presenta fisuras de más de 3 cm "),a("v-radio-group",{staticClass:"py-0",model:{value:t.infraestructura.fachada_fisura,callback:function(e){t.$set(t.infraestructura,"fachada_fisura",e)},expression:"infraestructura.fachada_fisura"}},[a("v-radio",{attrs:{label:"Si",value:!0}}),a("v-radio",{attrs:{label:"No",value:!1}})],1)],1),a("v-col",{staticClass:"py-4 caption",attrs:{cols:"3"}},[t._v(" La pintura de la fachada presenta deterioro? "),a("v-radio-group",{staticClass:"py-0",model:{value:t.infraestructura.id_fachada,callback:function(e){t.$set(t.infraestructura,"id_fachada",e)},expression:"infraestructura.id_fachada"}},[a("v-radio",{attrs:{label:"Si",value:3}}),a("v-radio",{attrs:{label:"No",value:1}}),a("v-radio",{attrs:{label:"No Tiene",value:2}})],1)],1),a("v-col",{staticClass:"py-4 caption",attrs:{cols:"3"}},[t._v(" Esta institución utiliza la infraestructura "),a("v-radio-group",{staticClass:"py-0",model:{value:t.infraestructura.id_utiliza,callback:function(e){t.$set(t.infraestructura,"id_utiliza",e)},expression:"infraestructura.id_utiliza"}},[a("v-radio",{attrs:{label:"Completa",value:1}}),a("v-radio",{attrs:{label:"Una Seccion / pisos",value:2}})],1)],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"3"}},[t._v(" Propiedad de la Infraestructura "),a("v-radio-group",{staticClass:"py-0",model:{value:t.infraestructura.id_propiedad,callback:function(e){t.$set(t.infraestructura,"id_propiedad",e)},expression:"infraestructura.id_propiedad"}},[a("v-radio",{attrs:{label:"Alquilada",value:1}}),a("v-radio",{attrs:{label:"Anticrético",value:2}}),a("v-radio",{attrs:{label:"Comodato",value:3}}),a("v-radio",{attrs:{label:"Otros",value:4}}),a("v-radio",{attrs:{label:"Propia",value:5}})],1)],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"3"}},[t._v(" Cantidad de personas que trabajan en la infraestructura "),a("v-text-field",{attrs:{label:"Personas"},model:{value:t.infraestructura.personas,callback:function(e){t.$set(t.infraestructura,"personas",e)},expression:"infraestructura.personas"}})],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"3"}},[t._v(" Cantidad de personas que visitan la institución día/semana "),a("v-text-field",{attrs:{label:"Visitas"},model:{value:t.infraestructura.visitas,callback:function(e){t.$set(t.infraestructura,"visitas",e)},expression:"infraestructura.visitas"}}),a("v-radio-group",{staticClass:"py-0",model:{value:t.infraestructura.dia_semana,callback:function(e){t.$set(t.infraestructura,"dia_semana",e)},expression:"infraestructura.dia_semana"}},[a("v-radio",{attrs:{label:"Día",value:"Día"}}),a("v-radio",{attrs:{label:"Semana",value:"Semana"}})],1)],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"3"}},[t._v(" Complementos en la infraestructura. Otros tipos de energía utilizados "),a("v-radio-group",{staticClass:"py-0",attrs:{row:"",label:"GAS natural"},model:{value:t.infraestructura.id_gas_natural,callback:function(e){t.$set(t.infraestructura,"id_gas_natural",e)},expression:"infraestructura.id_gas_natural"}},[a("v-radio",{attrs:{label:"No",value:1}}),a("v-radio",{attrs:{label:"Si",value:2}})],1),a("v-radio-group",{staticClass:"py-0",attrs:{row:"",label:"Energía solar"},model:{value:t.infraestructura.id_energia_solar,callback:function(e){t.$set(t.infraestructura,"id_energia_solar",e)},expression:"infraestructura.id_energia_solar"}},[a("v-radio",{attrs:{label:"No",value:1}}),a("v-radio",{attrs:{label:"Si",value:2}})],1),a("v-radio-group",{staticClass:"py-0",attrs:{row:"",label:"Otro tipo energía"},model:{value:t.infraestructura.id_otra_energia,callback:function(e){t.$set(t.infraestructura,"id_otra_energia",e)},expression:"infraestructura.id_otra_energia"}},[a("v-radio",{attrs:{label:"No",value:1}}),a("v-radio",{attrs:{label:"Si",value:2}})],1)],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"12"}},[t._v(" Complementos en la infraestructura. Comodidades adicionales ")]),a("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[a("v-radio-group",{staticClass:"py-0",attrs:{label:"Calefacción"},model:{value:t.infraestructura.id_calefaccion,callback:function(e){t.$set(t.infraestructura,"id_calefaccion",e)},expression:"infraestructura.id_calefaccion"}},[a("v-radio",{attrs:{label:"No tiene",value:1}}),a("v-radio",{attrs:{label:"Si, a Energía Eléctrica",value:2}}),a("v-radio",{attrs:{label:"Si, a gas",value:3}})],1)],1),a("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[a("v-radio-group",{staticClass:"py-0",attrs:{label:"Agua caliente"},model:{value:t.infraestructura.id_agua_caliente,callback:function(e){t.$set(t.infraestructura,"id_agua_caliente",e)},expression:"infraestructura.id_agua_caliente"}},[a("v-radio",{attrs:{label:"No tiene",value:1}}),a("v-radio",{attrs:{label:"Otro",value:2}}),a("v-radio",{attrs:{label:"Si, a Energía Eléctrica",value:3}}),a("v-radio",{attrs:{label:"Si, a gas",value:4}})],1)],1),a("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[a("v-radio-group",{staticClass:"py-0",attrs:{label:"Ventilación"},model:{value:t.infraestructura.id_ventilacion,callback:function(e){t.$set(t.infraestructura,"id_ventilacion",e)},expression:"infraestructura.id_ventilacion"}},[a("v-radio",{attrs:{label:"Si",value:2}}),a("v-radio",{attrs:{label:"No tiene",value:1}})],1)],1),a("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[a("v-radio-group",{staticClass:"py-0",attrs:{label:"Aire Acondicionado"},model:{value:t.infraestructura.id_aire_acondicionado,callback:function(e){t.$set(t.infraestructura,"id_aire_acondicionado",e)},expression:"infraestructura.id_aire_acondicionado"}},[a("v-radio",{attrs:{label:"No tiene",value:1}}),a("v-radio",{attrs:{label:"Otro",value:2}}),a("v-radio",{attrs:{label:"Si, frio/ calor",value:3}}),a("v-radio",{attrs:{label:"Si, solo frio",value:4}})],1)],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"4"}},[t._v(" Aproximadamente cuantos metros cuadrados tiene este bloque "),a("v-text-field",{model:{value:t.infraestructura.metros_construidos,callback:function(e){t.$set(t.infraestructura,"metros_construidos",e)},expression:"infraestructura.metros_construidos"}})],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"4"}},[t._v(" Aproximadamente en que año fue construida esta infraestructura? "),a("v-radio-group",{staticClass:"py-0",model:{value:t.infraestructura.id_construccion,callback:function(e){t.$set(t.infraestructura,"id_construccion",e)},expression:"infraestructura.id_construccion"}},[a("v-radio",{attrs:{label:"Antes de 1970",value:1}}),a("v-radio",{attrs:{label:"Entre 1970 y 2000",value:2}}),a("v-radio",{attrs:{label:"No saben",value:3}}),a("v-radio",{attrs:{label:"Posterior a 2000",value:4}}),a("v-radio",{attrs:{label:"Sin información",value:5}})],1)],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"4"}},[t._v(" Se hicieron remodelaciones? "),a("v-radio-group",{staticClass:"py-0",model:{value:t.infraestructura.id_remodelacion,callback:function(e){t.$set(t.infraestructura,"id_remodelacion",e)},expression:"infraestructura.id_remodelacion"}},[a("v-radio",{attrs:{label:"Si",value:2}}),a("v-radio",{attrs:{label:"No",value:1}})],1)],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.grabar}},[t._v(" Grabar ")])],1)],1),a("br"),a("br"),a("br")],1)},jr=[],Nr={props:{dato:{type:Object}},data:function(){return{infraestructura:{id_tipo_infraestructura:1,fachada_fisura:!0,id_fachada:3,id_utiliza:1,id_propiedad:1,dia_semana:"Día",id_gas_natural:1,id_energia_solar:1,id_otra_energia:1,id_calefaccion:1,id_agua_caliente:1,id_ventilacion:2,id_aire_acondicionado:1,id_construccion:1,id_remodelacion:2,metros_construidos:0,visitas:0,personas:0,id:null,id_infraestructura:null}}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/datosbloque",{id:t.dato.id});case 3:a=e.sent,"undefined"===typeof a.data.institucion[0]?t.infraestructura.id_infraestructura=t.dato.id:t.infraestructura=a.data.institucion[0],t.$store.commit("SET_LOADING",!1);case 6:case"end":return e.stop()}}),e)})))()},methods:{grabar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/grabarbloque",{infraestructura:t.infraestructura});case 3:a=e.sent,t.infraestructura=a.data.institucion[0],t.$store.commit("SET_LOADING",!1);case 6:case"end":return e.stop()}}),e)})))()}}},Lr=Nr,$r=Object(_["a"])(Lr,Fr,jr,!1,null,null,null),Br=$r.exports;h()($r,{VBtn:ot["a"],VCol:ct["a"],VRadio:Er["a"],VRadioGroup:Sr["a"],VRow:dt["a"],VTextField:Gi["a"]});var Pr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{staticClass:"py-0 caption",attrs:{cols:"12"}},[t._v(" Teléfonos ")]),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Fijo 1"},model:{value:t.institucion.telefono_1,callback:function(e){t.$set(t.institucion,"telefono_1",e)},expression:"institucion.telefono_1"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Fijo 2"},model:{value:t.institucion.telefono_2,callback:function(e){t.$set(t.institucion,"telefono_2",e)},expression:"institucion.telefono_2"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Fijo 3"},model:{value:t.institucion.telefono_3,callback:function(e){t.$set(t.institucion,"telefono_3",e)},expression:"institucion.telefono_3"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Celular 1"},model:{value:t.institucion.celular_1,callback:function(e){t.$set(t.institucion,"celular_1",e)},expression:"institucion.celular_1"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Celular 2"},model:{value:t.institucion.celular_2,callback:function(e){t.$set(t.institucion,"celular_2",e)},expression:"institucion.celular_2"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"Celular 3"},model:{value:t.institucion.celular_3,callback:function(e){t.$set(t.institucion,"celular_3",e)},expression:"institucion.celular_3"}})],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"12"}},[t._v(" Persona de contacto ")]),a("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Nombre de contacto"},model:{value:t.institucion.nombre_contacto,callback:function(e){t.$set(t.institucion,"nombre_contacto",e)},expression:"institucion.nombre_contacto"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Cargo"},model:{value:t.institucion.cargo_contacto,callback:function(e){t.$set(t.institucion,"cargo_contacto",e)},expression:"institucion.cargo_contacto"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.institucion.telefono,callback:function(e){t.$set(t.institucion,"telefono",e)},expression:"institucion.telefono"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.institucion.email,callback:function(e){t.$set(t.institucion,"email",e)},expression:"institucion.email"}})],1),a("v-col",{staticClass:"py-0 caption",attrs:{cols:"12"}},[t._v(" Dependencia ")]),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"4",md:"3"}},[a("v-select",{attrs:{items:t.nivel_1,label:"Nivel 1"},on:{input:function(e){return t.onNivel1(e)}},model:{value:t.institucion.nivel_1,callback:function(e){t.$set(t.institucion,"nivel_1",e)},expression:"institucion.nivel_1"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"4",md:"3"}},[a("v-select",{attrs:{items:t.nivel_2,label:"Nivel 2"},on:{input:function(e){return t.onNivel2(e)}},model:{value:t.institucion.nivel_2,callback:function(e){t.$set(t.institucion,"nivel_2",e)},expression:"institucion.nivel_2"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"4",md:"3"}},[a("v-select",{attrs:{items:t.nivel_3,label:"Nivel 3"},on:{input:function(e){return t.onNivel3(e)}},model:{value:t.institucion.nivel_3,callback:function(e){t.$set(t.institucion,"nivel_3",e)},expression:"institucion.nivel_3"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"4",md:"3"}},[a("v-select",{attrs:{items:t.nivel_4,label:"Nivel 4"},on:{input:function(e){return t.onNivel4(e)}},model:{value:t.institucion.nivel_4,callback:function(e){t.$set(t.institucion,"nivel_4",e)},expression:"institucion.nivel_4"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"4",md:"3"}},[a("v-select",{attrs:{items:t.nivel_5,label:"Nivel 5"},model:{value:t.institucion.nivel_5,callback:function(e){t.$set(t.institucion,"nivel_5",e)},expression:"institucion.nivel_5"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.grabar}},[t._v(" Grabar ")])],1)],1)],1)},zr=[],qr={props:{dato:{type:Object}},data:function(){return{institucion:{},dependencias:[],nivel_1:[],nivel_2:[],nivel_3:[],nivel_4:[],nivel_5:[],gobierno:1}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/datosinstitucion",{id:t.dato.id});case 3:a=e.sent,t.institucion=a.data.institucion[0],t.dependencias=a.data.dependencias,t.nivel_1=t.dependencias.map((function(t){return t.nivel_1})).filter(t.onlyUnique),t.nivel_2=t.dependencias.filter((function(e){return e.nivel_1==t.institucion.nivel_1})).map((function(t){return t.nivel_2})).filter(t.onlyUnique),t.nivel_3=t.dependencias.filter((function(e){return e.nivel_1==t.institucion.nivel_1&&e.nivel_2==t.institucion.nivel_2})).map((function(t){return t.nivel_3})).filter(t.onlyUnique),t.nivel_4=t.dependencias.filter((function(e){return e.nivel_1==t.institucion.nivel_1&&e.nivel_2==t.institucion.nivel_2&&e.nivel_3==t.institucion.nivel_3})).map((function(t){return t.nivel_4})).filter(t.onlyUnique),t.nivel_5=t.dependencias.filter((function(e){return e.nivel_1==t.institucion.nivel_1&&e.nivel_2==t.institucion.nivel_2&&e.nivel_3==t.institucion.nivel_3&&e.nivel_4==t.institucion.nivel_4})).map((function(t){return t.nivel_5})).filter(t.onlyUnique),t.$store.commit("SET_LOADING",!1);case 12:case"end":return e.stop()}}),e)})))()},methods:{grabar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/grabarinstitucion",{institucion:t.institucion});case 3:a=e.sent,t.institucion=a.data.institucion[0],t.$store.commit("SET_LOADING",!1);case 6:case"end":return e.stop()}}),e)})))()},onlyUnique:function(t,e,a){return a.indexOf(t)===e},onNivel1:function(t){var e=this;this.institucion.nivel_1=t,this.nivel_2=this.dependencias.filter((function(t){return t.nivel_1==e.institucion.nivel_1})).map((function(t){return t.nivel_2})).filter(this.onlyUnique),this.institucion.nivel_2=[],this.institucion.nivel_3=[],this.institucion.nivel_4=[],this.institucion.nivel_5=[]},onNivel2:function(t){var e=this;this.institucion.nivel_2=t,this.nivel_3=this.dependencias.filter((function(t){return t.nivel_1==e.institucion.nivel_1&&t.nivel_2==e.institucion.nivel_2})).map((function(t){return t.nivel_3})).filter(this.onlyUnique),this.institucion.nivel_3=[],this.institucion.nivel_4=[],this.institucion.nivel_5=[]},onNivel3:function(t){var e=this;this.institucion.nivel_3=t,this.nivel_4=this.dependencias.filter((function(t){return t.nivel_1==e.institucion.nivel_1&&t.nivel_2==e.institucion.nivel_2&&t.nivel_3==e.institucion.nivel_3})).map((function(t){return t.nivel_4})).filter(this.onlyUnique),this.institucion.nivel_4=[],this.institucion.nivel_5=[]},onNivel4:function(t){var e=this;this.institucion.nivel_4=t,this.nivel_5=this.dependencias.filter((function(t){return t.nivel_1==e.institucion.nivel_1&&t.nivel_2==e.institucion.nivel_2&&t.nivel_3==e.institucion.nivel_3&&t.nivel_4==e.institucion.nivel_4})).map((function(t){return t.nivel_4})).filter(this.onlyUnique),this.institucion.nivel_5=[]}}},Ur=qr,Yr=Object(_["a"])(Ur,Pr,zr,!1,null,null,null),Hr=Yr.exports;h()(Yr,{VBtn:ot["a"],VCol:ct["a"],VRow:dt["a"],VSelect:yt["a"],VTextField:Gi["a"]});var Wr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{staticClass:"caption",attrs:{cols:"12"}},[t._v(" El apartado “Medidores”, permite revisar, modificar o actualizar la información de sus medidores, pudiendo agregar uno nuevo (si corresponde) o anular/eliminar aquellos que ya no son utilizados por su(s) infraestructura(s). Para que los cambios sean registrados, se debe presionar el botón “grabar”. ")])],1),t.medidor?[a("v-btn",{staticClass:"mx-5 mb-3 mt-3",attrs:{small:"",color:"primary"},on:{click:t.addMedidor}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")]),t._v(" Nuevo ")],1),a("v-data-table",{attrs:{dense:"",headers:t.headers,items:t.medidores},scopedSlots:t._u([{key:"item.actions",fn:function(e){var i=e.item;return[i.estado?[a("v-btn",{attrs:{"x-small":"",color:"success"},on:{click:function(e){return t.cambiarEstado(i)}}},[t._v(" Habilitado ")])]:[a("v-btn",{attrs:{"x-small":"",color:"warning"},on:{click:function(e){return t.cambiarEstado(i)}}},[t._v(" Anulado ")]),a("v-btn",{attrs:{"x-small":"",color:"error"},on:{click:function(e){return t.eliminar(i)}}},[t._v(" Eliminar ")])]]}},{key:"no-data",fn:function(){return[t._v(" SIN REGISTROS ")]},proxy:!0}],null,!1,4223483160)})]:[a("NuevoMedidor",{attrs:{id_infraestructura:t.id_infraestructura},on:{on_close:t.onClose}})]],2)},Jr=[],Xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"ml-5 mr-2 my-3",attrs:{disabled:""==t.medidor.medidor||""==t.medidor.numero_cliente,small:"",color:"primary"},on:{click:t.saveMedidor}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-content-save ")]),t._v(" Grabar ")],1),a("v-btn",{staticClass:"mx-0 my-3",attrs:{small:"",color:"error"},on:{click:t.cancelarMedidor}},[a("v-icon",{attrs:{dark:""}},[t._v(" mdi-close ")]),t._v(" Cancelar ")],1),a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"N° medidor"},model:{value:t.medidor.medidor,callback:function(e){t.$set(t.medidor,"medidor",e)},expression:"medidor.medidor"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[a("v-text-field",{attrs:{label:"N° cliente"},model:{value:t.medidor.numero_cliente,callback:function(e){t.$set(t.medidor,"numero_cliente",e)},expression:"medidor.numero_cliente"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Cliente"},model:{value:t.medidor.cliente,callback:function(e){t.$set(t.medidor,"cliente",e)},expression:"medidor.cliente"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.medidor.direccion,callback:function(e){t.$set(t.medidor,"direccion",e)},expression:"medidor.direccion"}})],1)],1)],1)},Kr=[],Zr={name:"NuevoMedidor",props:{id_infraestructura:{type:Number}},data:function(){return{medidor:{medidor:"",numero_cliente:"",cliente:"",direccion:"",id_infraestructura:this.id_infraestructura}}},methods:{saveMedidor:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/insertmedidor",{medidor:t.medidor.medidor,numero_cliente:t.medidor.numero_cliente,cliente:t.medidor.cliente,direccion:t.medidor.direccion,id_infraestructura:t.medidor.id_infraestructura});case 3:t.$store.commit("SET_LOADING",!1),t.$emit("on_close");case 5:case"end":return e.stop()}}),e)})))()},cancelarMedidor:function(){this.$emit("on_close")}}},Qr=Zr,to=Object(_["a"])(Qr,Xr,Kr,!1,null,null,null),eo=to.exports;h()(to,{VBtn:ot["a"],VCol:ct["a"],VIcon:x["a"],VRow:dt["a"],VTextField:Gi["a"]});var ao={components:{NuevoMedidor:eo},props:{dato:{type:Object}},data:function(){return{search:"",headers:[{text:"N° medidor",value:"medidor"},{text:"N° Cliente",value:"numero_cliente"},{text:"Cliente",value:"cliente"},{text:"Dirección",value:"direccion"},{text:"Acciones",value:"actions",sortable:!1}],medidores:[],nuevo:"",id_infraestructura:null,medidor:!0}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/medidores",{id:t.dato.id});case 3:a=e.sent,t.medidores=a.data.medidores,t.id_infraestructura=a.data.id_infraestructura,t.$store.commit("SET_LOADING",!1);case 7:case"end":return e.stop()}}),e)})))()},methods:{onClose:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/medidores",{id:t.dato.id});case 3:a=e.sent,t.medidores=a.data.medidores,t.$store.commit("SET_LOADING",!1),t.medidor=!0;case 7:case"end":return e.stop()}}),e)})))()},eliminar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$store.commit("SET_LOADING",!0),a.next=3,_t.a.post("/api/borrarmedidor",{id:t.id,id_infraestructura:t.id_infraestructura});case 3:i=a.sent,e.medidores=i.data.medidores,e.$store.commit("SET_LOADING",!1);case 6:case"end":return a.stop()}}),a)})))()},addMedidor:function(){this.medidor=!1},cambiarEstado:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.$store.commit("SET_LOADING",!0),a.next=3,_t.a.post("/api/cambiarmedidor",{id:t.id,estado:!t.estado,id_infraestructura:t.id_infraestructura});case 3:i=a.sent,e.medidores=i.data.medidores,e.$store.commit("SET_LOADING",!1);case 6:case"end":return a.stop()}}),a)})))()}}},io=ao,ro=Object(_["a"])(io,Wr,Jr,!1,null,null,null),oo=ro.exports;h()(ro,{VBtn:ot["a"],VCol:ct["a"],VDataTable:Ni["a"],VIcon:x["a"],VRow:dt["a"]});var no={name:"Infraestructura",components:{Cabecera:Gt["a"],DatosInfraestructura:kr,UbicacionGeografica:Mr,DatosBloque:Br,DatosInstitucion:Hr,Medidores:oo},data:function(){return{search:"",headers:[{text:"Entidad",value:"nombre_infraestructura"},{text:"Edificio",value:"nombre_edificio"},{text:"Ciudad",value:"ciudad"},{text:"Editar",value:"actions",sortable:!1}],infraestructuras:[],infraestructura:{},editar:!1,titulo:"Modificar infraestructura",componente:"DatosInfraestructura"}},created:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),e.next=3,_t.a.post("/api/infraestructura");case 3:a=e.sent,t.infraestructuras=a.data.data,t.$store.commit("SET_LOADING",!1);case 6:case"end":return e.stop()}}),e)})))()},methods:{editItem:function(t){this.editar=!0,this.infraestructura=t,this.titulo="Modificar infraestructura"},nuevo:function(){this.editar=!0,this.infraestructura={},this.titulo="Nueva infraestructura"},cancelar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.editar=!1,t.infraestructura={},t.$store.commit("SET_LOADING",!0),e.next=5,_t.a.post("/api/infraestructura");case 5:a=e.sent,t.infraestructuras=a.data.data,t.$store.commit("SET_LOADING",!1),t.componente="DatosInfraestructura";case 9:case"end":return e.stop()}}),e)})))()},cambiar:function(t){this.componente=t}},computed:{currentProperties:function(){return{dato:this.infraestructura}}}},so=no,co=Object(_["a"])(so,xr,Cr,!1,null,null,null),lo=co.exports;h()(co,{VBtn:ot["a"],VCol:ct["a"],VContainer:Xt["a"],VDataTable:Ni["a"],VIcon:x["a"],VRow:dt["a"],VSpacer:$["a"],VTextField:Gi["a"],VToolbar:$i["a"]});var uo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Cabecera",{attrs:{titulo:"Modificar contraseña",iconoTitulo:"mdi-key",color:"light-blue darken-4"}}),i("v-app",[i("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{cols:"12",sm:"7",md:"4"}},[i("v-card",{staticClass:"elevation-12"},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("ValidationObserver",{ref:"obs",scopedSlots:t._u([{key:"default",fn:function(e){var r=e.invalid,o=e.validated,n=e.handleSubmit;return[i("v-card-text",{staticClass:"mt-2"},[i("h2",{staticClass:"text-center mx-10 mt-2 mb-6 blue--text text--darken-4"},[t._v(" Modificar contraseña ")]),i("center",[i("v-img",{attrs:{src:a("ac21"),"max-width":"100"}}),i("div",{staticClass:"title"},[t._v(" "+t._s(t.user.name)+" ")]),i("div",{staticClass:"title"},[t._v(" "+t._s(t.user.email)+" ")])],1),i("v-form",[i("ValidationProvider",{attrs:{rules:"required",name:"Password",vid:"password"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.valid;return[i("v-text-field",{attrs:{type:"password","error-messages":a,success:r,label:"Contraseña",required:"","prepend-inner-icon":"mdi-key"},model:{value:t.editedItem.password,callback:function(e){t.$set(t.editedItem,"password",e)},expression:"editedItem.password"}})]}}],null,!0)}),i("ValidationProvider",{attrs:{rules:"required|confirmed:password",name:"Password confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,r=e.valid;return[i("v-text-field",{attrs:{type:"password","error-messages":a,success:r,label:"Confirmar Contraseña",required:"","prepend-inner-icon":"mdi-key"},model:{value:t.editedItem.confirmation,callback:function(e){t.$set(t.editedItem,"confirmation",e)},expression:"editedItem.confirmation"}})]}}],null,!0)})],1)],1),i("div",{staticClass:"text-center mt-3"},[i("v-btn",{attrs:{color:"primary",disabled:r||!o},on:{click:function(e){return n(t.submit)}}},[t._v(" Cambiar Contraseñas ")])],1)]}}])})],1)],1)],1)],1)],1)],1)],1)],1)},po=[],mo={name:"Contrasena",components:{ValidationProvider:Di["b"],ValidationObserver:Di["a"]},data:function(){return{editedItem:{password:"",confirmation:""}}},computed:Object(n["a"])({},Object(s["c"])("auth",["user"])),methods:{submit:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_t.a.post("/api/modificarpassword",t.editedItem);case 3:return e.sent,e.next=6,t.$store.dispatch("auth/logout",null,{root:!0});case 6:return e.next=8,t.$router.replace({name:"Home"}).catch((function(){}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}}},fo=mo,vo=Object(_["a"])(fo,uo,po,!1,null,null,null),_o=vo.exports;h()(vo,{VApp:W["a"],VBtn:ot["a"],VCard:N["a"],VCardText:J["b"],VCol:ct["a"],VContainer:Xt["a"],VForm:Li["a"],VImg:lt["a"],VRow:dt["a"],VTextField:Gi["a"]}),i["a"].use(tt["a"]);var bo=[{path:"/",name:"Home",component:pt},{path:"/dashboard",name:"Dashboard",component:oi},{path:"/historico",name:"Historico",component:da},{path:"/geografico",name:"Geografico",component:hi},{path:"/benchmark",name:"Benchmark",component:Ti,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:Ji},{path:"/usuario",name:"Usuario",component:Pi,meta:{requiresAuth:!0}},{path:"/infraestructura",name:"Infraestructura",component:lo,meta:{requiresAuth:!0}},{path:"/modificar",name:"Contrasena",component:_o,meta:{requiresAuth:!0}},{path:"/indicadores",name:"Indicadores",component:mr,meta:{requiresAuth:!0}},{path:"/crearinfraestructura",name:"Crearinfraestructura",component:gr,meta:{requiresAuth:!0}},{path:"/about",name:"About",meta:{requiresAuth:!0},component:function(){return a.e("about").then(a.bind(null,"f820"))}}],ho=new tt["a"]({mode:"history",base:"/",routes:bo});ho.beforeEach((function(t,e,a){var i=t.matched.some((function(t){return t.meta.requiresAuth})),r=c["a"].getters["auth/isLoggedIn"];!i&&r&&"/login"===t.path&&a("/"),i&&!r?a("/login"):a()}));var go=ho,xo=a("f309");i["a"].use(xo["a"]);var Co=new xo["a"]({theme:{themes:{light:{primary:"#525252",secondary:"#377520",iconocolor:"#009ceb",textocolor:"#227aa1",barracolor:"#bfbfbf",graficas:"#46853a",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",lightblue:"#14c6FF",yellow:"#FFCF00",pink:"#FF1976",orange:"#FF8657",magenta:"#C33AFC",darkblue:"#1E2D56",gray:"#909090",neutralgray:"#9BA6C1",green:"#2ED47A",red:"#FF5c4E",darkblueshade:"#308DC2",lightgray:"#BDBDBD",lightpink:"#FFCFE3",white:"#fdfdfd"}}}});_t.a.defaults.baseURL="http://l27.0.0.1:81",_t.a.interceptors.request.use((function(t){var e=window.localStorage.getItem("token");return null!=e&&(t.headers.Authorization="Bearer ".concat(e)),t}),(function(t){return Promise.reject(t.response)}));var yo=a("4c93");Object(Di["c"])("required",Object(n["a"])(Object(n["a"])({},yo["d"]),{},{message:"Este campo en requerido"})),Object(Di["c"])("max",Object(n["a"])(Object(n["a"])({},yo["c"]),{},{message:"Este campo no debe exceder de {length} caracteres o letras"})),Object(Di["c"])("email",Object(n["a"])(Object(n["a"])({},yo["b"]),{},{message:"Debe ser una email valido"})),Object(Di["c"])("confirmed",Object(n["a"])(Object(n["a"])({},yo["a"]),{},{message:"Las contraseñas deben coincidir"}));var Io=a("1321"),wo=a.n(Io);i["a"].component("apexchart",wo.a),i["a"].component("l-map",ci["a"]),i["a"].component("l-tile-layer",li["a"]),i["a"].component("l-marker",di["a"]),i["a"].config.productionTip=!1,new i["a"]({router:go,store:c["a"],vuetify:Co,render:function(t){return t(Q)}}).$mount("#app")},"58f1":function(t,e,a){},6224:function(t,e,a){"use strict";a("58f1")},7107:function(t,e,a){},"7a36":function(t,e,a){t.exports=a.p+"img/fondo1b.6188f68b.jpg"},"89de":function(t,e,a){t.exports=a.p+"img/fondo2a.5091f7ce.jpg"},"9ab0":function(t,e,a){t.exports=a.p+"img/pie.996257c4.jpg"},ac21:function(t,e,a){t.exports=a.p+"img/usuario.e9b73a9f.png"},b80b:function(t,e,a){t.exports=a.p+"img/fondo3a.07b06c1c.jpg"},ce11:function(t,e,a){t.exports=a.p+"img/logogra.9934e49f.png"},ee85:function(t,e,a){t.exports=a.p+"img/fondo4a.f710b034.jpg"},f442:function(t,e,a){"use strict";a("48b0")},f990:function(t,e,a){},fd60:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{class:t.color,attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",{staticClass:"white--text subtitle-1 d-flex justify-space-between mt-12 py-2"},[a("v-icon",{staticClass:"mr-3",attrs:{small:"",color:"white"}},[t._v(" "+t._s(t.iconoTitulo)+" ")]),t._v(" "+t._s(t.titulo)+" "),a("v-spacer"),t.subtitulo?[a("v-icon",{staticClass:"mr-3",attrs:{small:"",color:"white"}},[t._v(" "+t._s(t.iconoSubtitulo)+" ")]),t._v(" "+t._s(t.subtitulo)+" ")]:t._e()],2)],1),t._e()],1)},r=[],o=a("4360"),n={props:{color:{type:String,required:!0},titulo:{type:String,required:!0},iconoTitulo:{type:String,required:!1},subtitulo:{type:String,required:!1},iconoSubtitulo:{type:String,required:!1}},computed:{mostrarBoton:function(){return null!==o["a"].state.auth.token&&2==o["a"].state.auth.user.rol_id}}},s=n,c=a("2877"),l=a("6544"),d=a.n(l),u=a("8336"),p=a("b0af"),m=a("99d9"),f=a("132d"),v=a("2fa4"),_=Object(c["a"])(s,i,r,!1,null,null,null);e["a"]=_.exports;d()(_,{VBtn:u["a"],VCard:p["a"],VCardText:m["b"],VIcon:f["a"],VSpacer:v["a"]})}});
//# sourceMappingURL=app.e7603396.js.map